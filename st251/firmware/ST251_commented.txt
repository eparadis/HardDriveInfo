                            PORTA:                        ;XREF[27,0]:  3018,3030,3052,3064,308c,30ea,311a,311f
                                                          ;             34b3,34e1,3519,351e,3523,3525,37bc,383f
                                                          ;             384d,3867,3885,388b,38a3,3969,39a1,39c7
                                                          ;             3a35,3a5c,3ad1
ZERO_PAGE:0000                  ??          ??                                      
                            PORTB:                        ;XREF[17,0]:  301c,30cd,30d0,30d6,30e2,314f,315e,317d
                                                          ;             320e,3211,3235,3579,376c,3771,37e5,38e9
                                                          ;             3a4c
ZERO_PAGE:0001                  ??          ??                                      
ZERO_PAGE:0002                  ??          ??                                      
ZERO_PAGE:0003                  ??          ??                                      
ZERO_PAGE:0004                  ??          ??                                      
ZERO_PAGE:0005                  ??          ??                                      
ZERO_PAGE:0006                  ??          ??                                      
ZERO_PAGE:0007                  ??          ??                                      
ZERO_PAGE:0008                  ??          ??                                      
ZERO_PAGE:0009                  ??          ??                                      
ZERO_PAGE:000a                  ??          ??                                      
ZERO_PAGE:000b                  ??          ??                                      
ZERO_PAGE:000c                  ??          ??                                      
ZERO_PAGE:000d                  ??          ??                                      
ZERO_PAGE:000e                  ??          ??                                      
ZERO_PAGE:000f                  ??          ??                                      
                            CLRINT:                       ;XREF[12,0]:  306b,3070,30f1,30f6,38ee,395c,3961,3994
                                                          ;             3999,39b3,39c3,39d2
ZERO_PAGE:0010                  undefined1  ??                                      
                            INT_FLAGS:                    ;XREF[18,0]:  306d,307c,30f3,3108,310b,3110,3113,3128
                                                          ;             312b,3888,38a0,38ff,395e,3972,3996,39aa
                                                          ;             39b7,39ca
ZERO_PAGE:0011                  undefined1  ??                                      
                            INT_ENABLES:                  ;XREF[6,0]:   3007,32a3,345b,36f0,3783,3a4a
ZERO_PAGE:0012                  undefined1  ??                                      
ZERO_PAGE:0013                  ??          ??                                      
                            MCR:                          ;XREF[1,0]:   3014
ZERO_PAGE:0014                  ??          ??                                      
ZERO_PAGE:0015                  ??          ??                                      
ZERO_PAGE:0016                  ??          ??                                      
ZERO_PAGE:0017                  ??          ??                                      
                            ACOUNT_LC:                    ;XREF[33,0]:  3020,30fa,3102,310e,314c,329b,32b6,32c9
                                                          ;             32fd,331f,3388,3394,33aa,3433,343f,344c
                                                          ;             36ea,36f7,383d,3855,386f,3874,389a,38b3
                                                          ;             38c1,38f3,3904,3956,3975,397f,398e,39ad
                                                          ;             3be4
ZERO_PAGE:0018                  undefined1  ??                                      
                            ACOUNT_H:                     ;XREF[10,0]:  3106,32bc,3303,339a,33b0,3445,3450,36fd
                                                          ;             388e,38ab
ZERO_PAGE:0019                  undefined1  ??                                      
                            ACOUNT_L:                     ;XREF[15,0]:  30fe,329f,36ee,385a,3879,3892,389e,38a7
                                                          ;             38b7,38c6,38f8,3908,395a,3983,3992
ZERO_PAGE:001a                  undefined1  ??                                      
ZERO_PAGE:001b                  ??          ??                                      
                            BCOUNT_LC:                    ;XREF[6,0]:   301e,32dc,333d,3777,377d,3bc2
ZERO_PAGE:001c                  undefined1  ??                                      
                            BCOUNT_H:                     ;XREF[6,0]:   31ec,3254,32d6,3337,3781,3bbc
ZERO_PAGE:001d                  undefined1  ??                                      
                            BCOUNT_L:                     ;XREF[3,0]:   31f4,325a,3779
ZERO_PAGE:001e                  undefined1  ??                                      
ZERO_PAGE:001f                  ??          ??                                      
ZERO_PAGE:0020                  ??          ??                                      
ZERO_PAGE:0021                  ??          ??                                      
ZERO_PAGE:0022                  ??          ??                                      
ZERO_PAGE:0023                  ??          ??                                      
ZERO_PAGE:0024                  ??          ??                                      
ZERO_PAGE:0025                  ??          ??                                      
ZERO_PAGE:0026                  ??          ??                                      
ZERO_PAGE:0027                  ??          ??                                      
ZERO_PAGE:0028                  ??          ??                                      
ZERO_PAGE:0029                  ??          ??                                      
ZERO_PAGE:002a                  ??          ??                                      
ZERO_PAGE:002b                  ??          ??                                      
ZERO_PAGE:002c                  ??          ??                                      
ZERO_PAGE:002d                  ??          ??                                      
ZERO_PAGE:002e                  ??          ??                                      
ZERO_PAGE:002f                  ??          ??                                      
ZERO_PAGE:0030                  ??          ??                                      
ZERO_PAGE:0031                  ??          ??                                      
ZERO_PAGE:0032                  ??          ??                                      
ZERO_PAGE:0033                  ??          ??                                      
ZERO_PAGE:0034                  ??          ??                                      
ZERO_PAGE:0035                  ??          ??                                      
ZERO_PAGE:0036                  ??          ??                                      
ZERO_PAGE:0037                  ??          ??                                      
ZERO_PAGE:0038                  ??          ??                                      
ZERO_PAGE:0039                  ??          ??                                      
ZERO_PAGE:003a                  ??          ??                                      
ZERO_PAGE:003b                  ??          ??                                      
ZERO_PAGE:003c                  ??          ??                                      
ZERO_PAGE:003d                  ??          ??                                      
ZERO_PAGE:003e                  ??          ??                                      
ZERO_PAGE:003f                  ??          ??                                      
                            unofficial_cur_track_hi:      ;XREF[17,0]:  316a,3177,3188,319f,31a5,31cc,358d,35f1
                                                          ;             35ff,3603,3766,3793,37b5,3806,380b,3810
                                                          ;             3a93
regs:0040                       undefined1  ??                                      
                            unofficial_cur_track_lo:      ;XREF[20,0]:  3164,3173,3186,31aa,31ce,3591,35eb,35ef
                                                          ;             35f9,35fd,3768,378d,37b1,37e7,37ed,37f2
                                                          ;             37f7,37fc,3801,3a95
regs:0041                       undefined1  ??                                      
                            DAT_0042:                     ;XREF[7,0]:   32f3,3329,332d,3358,3411,3740,3763
regs:0042                       undefined1  ??                                      
                            DAT_0043:                     ;XREF[8,0]:   32f5,3323,3327,332f,3352,340b,3742,375d
regs:0043                       undefined1  ??                                      
                            step_inwards_flag:            ;XREF[15,0]:  3097,30bd,316e,317b,345f,3597,35e7,3a54
                                                          ;             3a9d,3aa0,3b05,3b07,3b0b,3ba5,3ba9
regs:0044                       undefined1  ??                                      
                            temp_trackcount_hi:           ;XREF[33,0]:  30a2,30c8,3192,31d7,31e8,322e,3244,3268
                                                          ;             32da,32e2,3310,3349,3356,3360,3371,340d
                                                          ;             3420,3473,34ad,357f,35f3,3601,36ff,375f
                                                          ;             3795,379e,37ca,3825,3940,3aab,3b13,3bb1
                                                          ;             3bc0
regs:0045                       undefined1  ??                                      
                            temp_trackcount_lo:           ;XREF[38,0]:  309e,30c4,3196,31db,31f0,322a,3248,3264
                                                          ;             32e0,32e6,330c,3343,3350,335c,3375,33be
                                                          ;             3406,3424,346f,34a9,3585,35b7,35c4,35ed
                                                          ;             35fb,3703,3718,3758,378f,379a,37a6,37ce
                                                          ;             3829,393c,3aa7,3b0f,3bad,3bc6
regs:0046                       undefined1  ??                                      
                            DAT_0047:                     ;XREF[7,5]:   32b1,32b9,33dc,33f5,35d6,3736,3747,33e2
                                                          ;             33f9,35da,373c,374b
regs:0047                       undefined2  ??                                      
                            DAT_0049:                     ;XREF[3,1]:   33a7,33ad,356c,3570
regs:0049                       undefined2  ??                                      
                            DAT_004b:                     ;XREF[13,0]:  32a6,32cc,33cb,33d1,33e9,33ed,33fe,3416
                                                          ;             341a,35de,3725,372b,3750
regs:004b                       undefined1  ??                                      
                            DAT_004c:                     ;XREF[6,0]:   339f,33b5,33c6,3403,3720,3755
regs:004c                       undefined1  ??                                      
regs:004d                       ??          ??                                      
regs:004e                       ??          ??                                      
                            DAT_004f:                     ;XREF[5,0]:   321a,3220,3786,37a4,3a97
regs:004f                       undefined1  ??                                      
                            official_cur_track_hi:        ;XREF[24,0]:  3081,3088,315c,31a8,31b4,31d3,31e1,3206
                                                          ;             333b,3347,3354,335e,33d3,33d5,33da,372d
                                                          ;             372f,3734,37b7,3b37,3b3e,3b90,3bd0,3bd4
regs:0050                       undefined1  ??                                      
                            official_cur_track_lo:        ;XREF[8,0]:   31ad,31b6,3341,334e,335a,37b3,3bca,3bce
regs:0051                       undefined1  ??                                      
regs:0052                       ??          ??                                      
                            tracks_to_end_hi:             ;XREF[5,0]:   316c,3179,31fa,322c,330e
regs:0053                       undefined1  ??                                      
                            tracks_to_end_lo:             ;XREF[5,0]:   3166,3175,31fe,3228,330a
regs:0054                       undefined1  ??                                      
                            step_by_delta_flag_unk:       ;XREF[10,0]:  3156,320c,32d0,3305,3333,33e6,3413,357b
                                                          ;             35e5,3ae5
regs:0055                       undefined1  ??                                      
                            DAT_0056:                     ;XREF[1,0]:   328c
regs:0056                       ??          ??                                      
                            EXT_PORT_SHAD:                ;XREF[37,0]:  300d,3036,303b,3040,3042,304a,3054,3066
                                                          ;             3462,3467,347b,34ba,34bf,34c4,34c6,34ce
                                                          ;             34d6,34ec,34f2,3510,352a,3530,353c,3542
                                                          ;             3548,354c,3552,3558,3673,36b2,390b,390d
                                                          ;             3919,3920,3aee,3af0,3af2
regs:0057                       undefined1  ??                                      
                            step_cal_retval:              ;XREF[7,0]:   39e2,39f8,3a08,3a13,3a18,3a3a,3a3f
regs:0058                       undefined1  ??                                      
                            counter:                      ;XREF[5,0]:   3ab2,3abf,3ac5,3acd,3adf
regs:0059                       ??          ??                                      
                            ringout_manual_timeout:       ;XREF[5,0]:   383b,3845,3849,385f,3863
regs:005a                       undefined1  ??                                      
                            triple_step_in_timer_irq:     ;XREF[6,0]:   3135,314a,3294,3475,370b,370f
regs:005b                       undefined1  ??                                      
                            DAT_005c:                     ;XREF[5,0]:   3180,3184,31c6,31ca,3a99
regs:005c                       undefined1  ??                                      
                            fullstep_mode_question:       ;XREF[6,0]:   3009,324e,3262,3589,36ac,37c0
regs:005d                       undefined1  ??                                      
                            timera_uf_flag:               ;XREF[8,0]:   3133,32a1,32c0,32c5,3316,331b,3bd9,3be0
regs:005e                       undefined1  ??                                      
                            enable_timera_uf_int:         ;XREF[4,0]:   3124,3574,3775,3a48
regs:005f                       undefined1  ??                                      
                            DAT_0060:                     ;XREF[2,0]:   30ef,3116
regs:0060                       ??          ??                                      
                            ringout_flag_just_set_voltage:;XREF[4,0]:   3034,37c6,3a44,3a9b
regs:0061                       undefined1  ??                                      
regs:0062                       ??          ??                                      
regs:0063                       ??          ??                                      
                            total_ring_count_accum:       ;XREF[5,0]:   3afd,3b19,3b1d,3b7f,3b89
regs:0064                       undefined1  ??                                      
                            ringout_ring_count:           ;XREF[2,0]:   38e7,3b1b
regs:0065                       undefined1  ??                                      
                            ringout_counter:              ;XREF[2,0]:   3b03,3b24
regs:0066                       ??          ??                                      
                            DAT_0067:                     ;XREF[3,0]:   3b76,3b7d,3b8b
regs:0067                       undefined1  ??                                      
                            ring_edge_count:              ;XREF[10,0]:  3823,3850,386a,3881,3896,38bc,38cb,38e5
                                                          ;             38ec,38fb
regs:0068                       undefined1  ??                                      
                            DAT_0069:                     ;XREF[1,0]:   3aff
regs:0069                       ??          ??                                      
                            DAT_006a:                     ;XREF[1,0]:   3b72
regs:006a                       ??          ??                                      
regs:006b                       ??          ??                                      
                            saved_stepper_voltage:        ;XREF[6,0]:   3b40,3b4d,3b58,3b63,3b87,3ba0
regs:006c                       undefined1  ??                                      
                            DAT_006d:                     ;XREF[5,0]:   3b33,3b54,3b5f,3b65,3b92
regs:006d                       undefined1  ??                                      
                            current_stepper_voltage:      ;XREF[12,0]:  3024,30b4,3508,3b2f,3b4f,3b5a,3b6a,3b78
                                                          ;             3b85,3b8d,3b9b,3ba2
regs:006e                       undefined1  ??                                      
                            ring_lsi_byte:                ;XREF[7,0]:   3026,30b2,34fa,3502,350a,3517,381c
regs:006f                       undefined1  ??                                      
regs:0070                       ??          ??                                      
regs:0071                       ??          ??                                      
                            ringout_result_question:      ;XREF[6,0]:   30aa,30bb,38cf,38d7,38e3,3b2b
regs:0072                       undefined1  ??                                      
                            ring_time_3_75V_hi:           ;XREF[2,0]:   3890,38b5
regs:0073                       undefined1  ??                                      
                            ring_time_3_75V_lo:           ;XREF[2,0]:   3894,38b1
regs:0074                       undefined1  ??                                      
                            track1_step_flag_question:    ;XREF[4,0]:   3158,359c,35ac,382f
regs:0075                       undefined1  ??                                      
regs:0076                       ??          ??                                      
regs:0077                       ??          ??                                      
regs:0078                       ??          ??                                      
regs:0079                       ??          ??                                      
regs:007a                       ??          ??                                      
regs:007b                       ??          ??                                      
regs:007c                       ??          ??                                      
regs:007d                       ??          ??                                      
regs:007e                       ??          ??                                      
regs:007f                       ??          ??                                      
regs:0080                       ??          ??                                      
regs:0081                       ??          ??                                      
regs:0082                       ??          ??                                      
regs:0083                       ??          ??                                      
regs:0084                       ??          ??                                      
regs:0085                       ??          ??                                      
regs:0086                       ??          ??                                      
regs:0087                       ??          ??                                      
regs:0088                       ??          ??                                      
regs:0089                       ??          ??                                      
regs:008a                       ??          ??                                      
regs:008b                       ??          ??                                      
regs:008c                       ??          ??                                      
regs:008d                       ??          ??                                      
regs:008e                       ??          ??                                      
regs:008f                       ??          ??                                      
regs:0090                       ??          ??                                      
regs:0091                       ??          ??                                      
regs:0092                       ??          ??                                      
regs:0093                       ??          ??                                      
regs:0094                       ??          ??                                      
regs:0095                       ??          ??                                      
regs:0096                       ??          ??                                      
regs:0097                       ??          ??                                      
regs:0098                       ??          ??                                      
regs:0099                       ??          ??                                      
regs:009a                       ??          ??                                      
regs:009b                       ??          ??                                      
regs:009c                       ??          ??                                      
regs:009d                       ??          ??                                      
regs:009e                       ??          ??                                      
regs:009f                       ??          ??                                      
regs:00a0                       ??          ??                                      
regs:00a1                       ??          ??                                      
regs:00a2                       ??          ??                                      
regs:00a3                       ??          ??                                      
regs:00a4                       ??          ??                                      
regs:00a5                       ??          ??                                      
regs:00a6                       ??          ??                                      
regs:00a7                       ??          ??                                      
regs:00a8                       ??          ??                                      
regs:00a9                       ??          ??                                      
regs:00aa                       ??          ??                                      
regs:00ab                       ??          ??                                      
regs:00ac                       ??          ??                                      
regs:00ad                       ??          ??                                      
regs:00ae                       ??          ??                                      
regs:00af                       ??          ??                                      
regs:00b0                       ??          ??                                      
regs:00b1                       ??          ??                                      
regs:00b2                       ??          ??                                      
regs:00b3                       ??          ??                                      
regs:00b4                       ??          ??                                      
regs:00b5                       ??          ??                                      
regs:00b6                       ??          ??                                      
regs:00b7                       ??          ??                                      
regs:00b8                       ??          ??                                      
regs:00b9                       ??          ??                                      
regs:00ba                       ??          ??                                      
regs:00bb                       ??          ??                                      
regs:00bc                       ??          ??                                      
regs:00bd                       ??          ??                                      
regs:00be                       ??          ??                                      
regs:00bf                       ??          ??                                      
regs:00c0                       ??          ??                                      
regs:00c1                       ??          ??                                      
regs:00c2                       ??          ??                                      
regs:00c3                       ??          ??                                      
regs:00c4                       ??          ??                                      
regs:00c5                       ??          ??                                      
regs:00c6                       ??          ??                                      
regs:00c7                       ??          ??                                      
regs:00c8                       ??          ??                                      
regs:00c9                       ??          ??                                      
regs:00ca                       ??          ??                                      
regs:00cb                       ??          ??                                      
regs:00cc                       ??          ??                                      
regs:00cd                       ??          ??                                      
regs:00ce                       ??          ??                                      
regs:00cf                       ??          ??                                      
regs:00d0                       ??          ??                                      
regs:00d1                       ??          ??                                      
regs:00d2                       ??          ??                                      
regs:00d3                       ??          ??                                      
regs:00d4                       ??          ??                                      
regs:00d5                       ??          ??                                      
regs:00d6                       ??          ??                                      
regs:00d7                       ??          ??                                      
regs:00d8                       ??          ??                                      
regs:00d9                       ??          ??                                      
regs:00da                       ??          ??                                      
regs:00db                       ??          ??                                      
regs:00dc                       ??          ??                                      
regs:00dd                       ??          ??                                      
regs:00de                       ??          ??                                      
regs:00df                       ??          ??                                      
regs:00e0                       ??          ??                                      
regs:00e1                       ??          ??                                      
regs:00e2                       ??          ??                                      
regs:00e3                       ??          ??                                      
regs:00e4                       ??          ??                                      
regs:00e5                       ??          ??                                      
regs:00e6                       ??          ??                                      
regs:00e7                       ??          ??                                      
regs:00e8                       ??          ??                                      
regs:00e9                       ??          ??                                      
regs:00ea                       ??          ??                                      
regs:00eb                       ??          ??                                      
regs:00ec                       ??          ??                                      
regs:00ed                       ??          ??                                      
regs:00ee                       ??          ??                                      
regs:00ef                       ??          ??                                      
regs:00f0                       ??          ??                                      
regs:00f1                       ??          ??                                      
regs:00f2                       ??          ??                                      
regs:00f3                       ??          ??                                      
regs:00f4                       ??          ??                                      
regs:00f5                       ??          ??                                      
regs:00f6                       ??          ??                                      
regs:00f7                       ??          ??                                      
regs:00f8                       ??          ??                                      
regs:00f9                       ??          ??                                      
regs:00fa                       ??          ??                                      
regs:00fb                       ??          ??                                      
regs:00fc                       ??          ??                                      
regs:00fd                       ??          ??                                      
regs:00fe                       ??          ??                                      
regs:00ff                       ??          ??                                      
                            EXT_PORT:                     ;XREF[3,0]:   354e,3554,3af4
STACK:0100                      ??          ??                                      
                            STEP_SEQR_CLK:                ;XREF[26,0]:  3047,304f,305c,3139,313f,3142,3145,3482
                                                          ;             3493,34cb,34d3,3560,3563,3566,3609,3632
                                                          ;             363f,3642,3650,3653,365e,3661,366c,367b
                                                          ;             36a4,36d8
STACK:0101                      ??          ??                                      
STACK:0102                      ??          ??                                      
STACK:0103                      ??          ??                                      
                            DAT_0104:                     ;XREF[2,0]:   302d,34b7
STACK:0104                      ??          ??                                      
                            RESET_STEP_SEQR:              ;XREF[2,0]:   3a37,3ad3
STACK:0105                      ??          ??                                      
STACK:0106                      ??          ??                                      
                            MCU_SEEK_COMPLETE:            ;XREF[2,0]:   31c0,37c2
STACK:0107                      ??          ??                                      
STACK:0108                      ??          ??                                      
STACK:0109                      ??          ??                                      
STACK:010a                      ??          ??                                      
STACK:010b                      ??          ??                                      
STACK:010c                      ??          ??                                      
STACK:010d                      ??          ??                                      
STACK:010e                      ??          ??                                      
STACK:010f                      ??          ??                                      
STACK:0110                      ??          ??                                      
STACK:0111                      ??          ??                                      
STACK:0112                      ??          ??                                      
STACK:0113                      ??          ??                                      
STACK:0114                      ??          ??                                      
STACK:0115                      ??          ??                                      
STACK:0116                      ??          ??                                      
STACK:0117                      ??          ??                                      
STACK:0118                      ??          ??                                      
STACK:0119                      ??          ??                                      
STACK:011a                      ??          ??                                      
STACK:011b                      ??          ??                                      
STACK:011c                      ??          ??                                      
STACK:011d                      ??          ??                                      
STACK:011e                      ??          ??                                      
STACK:011f                      ??          ??                                      
STACK:0120                      ??          ??                                      
STACK:0121                      ??          ??                                      
STACK:0122                      ??          ??                                      
STACK:0123                      ??          ??                                      
STACK:0124                      ??          ??                                      
STACK:0125                      ??          ??                                      
STACK:0126                      ??          ??                                      
STACK:0127                      ??          ??                                      
STACK:0128                      ??          ??                                      
STACK:0129                      ??          ??                                      
STACK:012a                      ??          ??                                      
STACK:012b                      ??          ??                                      
STACK:012c                      ??          ??                                      
STACK:012d                      ??          ??                                      
STACK:012e                      ??          ??                                      
STACK:012f                      ??          ??                                      
STACK:0130                      ??          ??                                      
STACK:0131                      ??          ??                                      
STACK:0132                      ??          ??                                      
STACK:0133                      ??          ??                                      
STACK:0134                      ??          ??                                      
STACK:0135                      ??          ??                                      
STACK:0136                      ??          ??                                      
STACK:0137                      ??          ??                                      
STACK:0138                      ??          ??                                      
STACK:0139                      ??          ??                                      
STACK:013a                      ??          ??                                      
STACK:013b                      ??          ??                                      
STACK:013c                      ??          ??                                      
STACK:013d                      ??          ??                                      
STACK:013e                      ??          ??                                      
STACK:013f                      ??          ??                                      
STACK:0140                      ??          ??                                      
STACK:0141                      ??          ??                                      
STACK:0142                      ??          ??                                      
STACK:0143                      ??          ??                                      
STACK:0144                      ??          ??                                      
STACK:0145                      ??          ??                                      
STACK:0146                      ??          ??                                      
STACK:0147                      ??          ??                                      
STACK:0148                      ??          ??                                      
STACK:0149                      ??          ??                                      
STACK:014a                      ??          ??                                      
STACK:014b                      ??          ??                                      
STACK:014c                      ??          ??                                      
STACK:014d                      ??          ??                                      
STACK:014e                      ??          ??                                      
STACK:014f                      ??          ??                                      
STACK:0150                      ??          ??                                      
STACK:0151                      ??          ??                                      
STACK:0152                      ??          ??                                      
STACK:0153                      ??          ??                                      
STACK:0154                      ??          ??                                      
STACK:0155                      ??          ??                                      
STACK:0156                      ??          ??                                      
STACK:0157                      ??          ??                                      
STACK:0158                      ??          ??                                      
STACK:0159                      ??          ??                                      
STACK:015a                      ??          ??                                      
STACK:015b                      ??          ??                                      
STACK:015c                      ??          ??                                      
STACK:015d                      ??          ??                                      
STACK:015e                      ??          ??                                      
STACK:015f                      ??          ??                                      
STACK:0160                      ??          ??                                      
STACK:0161                      ??          ??                                      
STACK:0162                      ??          ??                                      
STACK:0163                      ??          ??                                      
STACK:0164                      ??          ??                                      
STACK:0165                      ??          ??                                      
STACK:0166                      ??          ??                                      
STACK:0167                      ??          ??                                      
STACK:0168                      ??          ??                                      
STACK:0169                      ??          ??                                      
STACK:016a                      ??          ??                                      
STACK:016b                      ??          ??                                      
STACK:016c                      ??          ??                                      
STACK:016d                      ??          ??                                      
STACK:016e                      ??          ??                                      
STACK:016f                      ??          ??                                      
STACK:0170                      ??          ??                                      
STACK:0171                      ??          ??                                      
STACK:0172                      ??          ??                                      
STACK:0173                      ??          ??                                      
STACK:0174                      ??          ??                                      
STACK:0175                      ??          ??                                      
STACK:0176                      ??          ??                                      
STACK:0177                      ??          ??                                      
STACK:0178                      ??          ??                                      
STACK:0179                      ??          ??                                      
STACK:017a                      ??          ??                                      
STACK:017b                      ??          ??                                      
STACK:017c                      ??          ??                                      
STACK:017d                      ??          ??                                      
STACK:017e                      ??          ??                                      
STACK:017f                      ??          ??                                      
STACK:0180                      ??          ??                                      
STACK:0181                      ??          ??                                      
STACK:0182                      ??          ??                                      
STACK:0183                      ??          ??                                      
STACK:0184                      ??          ??                                      
STACK:0185                      ??          ??                                      
STACK:0186                      ??          ??                                      
STACK:0187                      ??          ??                                      
STACK:0188                      ??          ??                                      
STACK:0189                      ??          ??                                      
STACK:018a                      ??          ??                                      
STACK:018b                      ??          ??                                      
STACK:018c                      ??          ??                                      
STACK:018d                      ??          ??                                      
STACK:018e                      ??          ??                                      
STACK:018f                      ??          ??                                      
STACK:0190                      ??          ??                                      
STACK:0191                      ??          ??                                      
STACK:0192                      ??          ??                                      
STACK:0193                      ??          ??                                      
STACK:0194                      ??          ??                                      
STACK:0195                      ??          ??                                      
STACK:0196                      ??          ??                                      
STACK:0197                      ??          ??                                      
STACK:0198                      ??          ??                                      
STACK:0199                      ??          ??                                      
STACK:019a                      ??          ??                                      
STACK:019b                      ??          ??                                      
STACK:019c                      ??          ??                                      
STACK:019d                      ??          ??                                      
STACK:019e                      ??          ??                                      
STACK:019f                      ??          ??                                      
STACK:01a0                      ??          ??                                      
STACK:01a1                      ??          ??                                      
STACK:01a2                      ??          ??                                      
STACK:01a3                      ??          ??                                      
STACK:01a4                      ??          ??                                      
STACK:01a5                      ??          ??                                      
STACK:01a6                      ??          ??                                      
STACK:01a7                      ??          ??                                      
STACK:01a8                      ??          ??                                      
STACK:01a9                      ??          ??                                      
STACK:01aa                      ??          ??                                      
STACK:01ab                      ??          ??                                      
STACK:01ac                      ??          ??                                      
STACK:01ad                      ??          ??                                      
STACK:01ae                      ??          ??                                      
STACK:01af                      ??          ??                                      
STACK:01b0                      ??          ??                                      
STACK:01b1                      ??          ??                                      
STACK:01b2                      ??          ??                                      
STACK:01b3                      ??          ??                                      
STACK:01b4                      ??          ??                                      
STACK:01b5                      ??          ??                                      
STACK:01b6                      ??          ??                                      
STACK:01b7                      ??          ??                                      
STACK:01b8                      ??          ??                                      
STACK:01b9                      ??          ??                                      
STACK:01ba                      ??          ??                                      
STACK:01bb                      ??          ??                                      
STACK:01bc                      ??          ??                                      
STACK:01bd                      ??          ??                                      
STACK:01be                      ??          ??                                      
STACK:01bf                      ??          ??                                      
STACK:01c0                      ??          ??                                      
STACK:01c1                      ??          ??                                      
STACK:01c2                      ??          ??                                      
STACK:01c3                      ??          ??                                      
STACK:01c4                      ??          ??                                      
STACK:01c5                      ??          ??                                      
STACK:01c6                      ??          ??                                      
STACK:01c7                      ??          ??                                      
STACK:01c8                      ??          ??                                      
STACK:01c9                      ??          ??                                      
STACK:01ca                      ??          ??                                      
STACK:01cb                      ??          ??                                      
STACK:01cc                      ??          ??                                      
STACK:01cd                      ??          ??                                      
STACK:01ce                      ??          ??                                      
STACK:01cf                      ??          ??                                      
STACK:01d0                      ??          ??                                      
STACK:01d1                      ??          ??                                      
STACK:01d2                      ??          ??                                      
STACK:01d3                      ??          ??                                      
STACK:01d4                      ??          ??                                      
STACK:01d5                      ??          ??                                      
STACK:01d6                      ??          ??                                      
STACK:01d7                      ??          ??                                      
STACK:01d8                      ??          ??                                      
STACK:01d9                      ??          ??                                      
STACK:01da                      ??          ??                                      
STACK:01db                      ??          ??                                      
STACK:01dc                      ??          ??                                      
STACK:01dd                      ??          ??                                      
STACK:01de                      ??          ??                                      
STACK:01df                      ??          ??                                      
STACK:01e0                      ??          ??                                      
STACK:01e1                      ??          ??                                      
STACK:01e2                      ??          ??                                      
STACK:01e3                      ??          ??                                      
STACK:01e4                      ??          ??                                      
STACK:01e5                      ??          ??                                      
STACK:01e6                      ??          ??                                      
STACK:01e7                      ??          ??                                      
STACK:01e8                      ??          ??                                      
STACK:01e9                      ??          ??                                      
STACK:01ea                      ??          ??                                      
STACK:01eb                      ??          ??                                      
STACK:01ec                      ??          ??                                      
STACK:01ed                      ??          ??                                      
STACK:01ee                      ??          ??                                      
STACK:01ef                      ??          ??                                      
STACK:01f0                      ??          ??                                      
STACK:01f1                      ??          ??                                      
STACK:01f2                      ??          ??                                      
STACK:01f3                      ??          ??                                      
STACK:01f4                      ??          ??                                      
STACK:01f5                      ??          ??                                      
STACK:01f6                      ??          ??                                      
STACK:01f7                      ??          ??                                      
STACK:01f8                      ??          ??                                      
STACK:01f9                      ??          ??                                      
STACK:01fa                      ??          ??                                      
STACK:01fb                      ??          ??                                      
STACK:01fc                      ??          ??                                      
STACK:01fd                      ??          ??                                      
STACK:01fe                      ??          ??                                      
STACK:01ff                      ??          ??                                      
                            ;************************************************************************************************
                            ;*                        INITIALIZE ALL CIRCUITS TO DEFAULT CONDITIONS                         *
                            ;************************************************************************************************
                            RESET_VECTOR:                 ;XREF[2,0]:   3ff7,3ffa
rom:3000        d8              CLD                                                 
rom:3001        78              SEI                                                 
rom:3002        a2ff            LDX         #0xff                                   
rom:3004        9a              TXS                                                 
rom:3005        a900            LDA         #0x0                                    
rom:3007        8512            STA         ZERO_PAGE:INT_ENABLES                   ;= ??
rom:3009        855d            STA         regs:fullstep_mode_question             ;= ??
rom:300b        a910            LDA         #0x10                                   
rom:300d        8557            STA         regs:EXT_PORT_SHAD                      ;= ??
rom:300f        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
                            ;counta = interval timer
                            ;countb = event counter
                            ;portb latch disabled
                            ;portd tristate normal
                            ;muxed bus
rom:3012        a9e8            LDA         #11101000b                              
rom:3014        8514            STA         ZERO_PAGE:MCR                           ;= ??
rom:3016        a92b            LDA         #0x2b                                   
rom:3018        8500            STA         ZERO_PAGE:PORTA                         
rom:301a        a98f            LDA         #10001111b                              ;S0,S1,S2=000
rom:301c        8501            STA         ZERO_PAGE:PORTB                         ;= ??
rom:301e        a51c            LDA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:3020        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3022        a9ee            LDA         #0xee                                   ;10.43V stepper
rom:3024        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3026        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:3028        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:302b        a910            LDA         #0x10                                   
rom:302d        8d0401          STA         STACK:DAT_0104                          ;= ??
rom:3030        f700            SMB         #0x7,0x0=>ZERO_PAGE:PORTA               
rom:3032        a901            LDA         #0x1                                    
rom:3034        8561            STA         regs:ringout_flag_just_set_voltage      ;= ??
                            ;************************************************************************************************
                            ;*                                        STICTION JUMP                                         *
                            ;************************************************************************************************
rom:3036        a757            SMB         #0x2,regs:EXT_PORT_SHAD                 ;No halfstep mode
rom:3038        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:303b        0757            RMB         #0x0,regs:EXT_PORT_SHAD                 ;INDEX_SYNC=0
rom:303d        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3040        8757            SMB         #0x0,regs:EXT_PORT_SHAD                 ;Set INDEX_SYNC
rom:3042        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;Set DIRECTION=1
rom:3044        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3047        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Pulse CLK on STEP SEGR
rom:304a        1757            RMB         #0x1,regs:EXT_PORT_SHAD                 ;Set DIRECTION=0
rom:304c        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:304f        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Pulse CLK on STEP SEGR
rom:3052        7700            RMB         #0x7,0x0=>ZERO_PAGE:PORTA               
rom:3054        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;Set DIRECTION=1
rom:3056        203035          JSR         HalfStepOff                             ;undefined HalfStepOff()
rom:3059        20f234          JSR         turn_on_halfstep_alt                    ;undefined turn_on_halfstep_alt()
rom:305c        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:305f        a232            LDX         #0x32                                   
rom:3061        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3064        f700            SMB         #0x7,0x0=>ZERO_PAGE:PORTA               
rom:3066        f757            SMB         #0x7,regs:EXT_PORT_SHAD                 ;turn on stepper enable
rom:3068        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:306b        0710            RMB         #0x0,ZERO_PAGE:CLRINT                   ;= ??
                            ;************************************************************************************************
                            ;*                                     CHECK SPINDLE SPEED                                      *
                            ;************************************************************************************************
                            ;Wait for our spindle to exceed 3593RPMs.
                            wait_pa0_posedge:             ;XREF[2,0]:   306d,307c
rom:306d        0f11fd          BBR         #0x0,ZERO_PAGE:INT_...,wait_pa0_posedge ;bit0=PA0 pos edge detected if 1
rom:3070        0710            RMB         #0x0,ZERO_PAGE:CLRINT                   ;clear int flag
rom:3072        a010            LDY         #0x10                                   
rom:3074        208032          JSR         delay_y_ms                              ;wait 15872us
rom:3077        a255            LDX         #0x55                                   
rom:3079        208c32          JSR         delay_x10us                             ;wait 849.5us. total = 16.7ms
rom:307c        0f11ee          BBR         #0x0,ZERO_PAGE:INT_...,wait_pa0_posedge ;are we > 3593 RPM ?
rom:307f        a904            LDA         #0x4                                    
rom:3081        8550            STA         regs:official_cur_track_hi              ;= ??
                            ;2 second delay
                            delayloop:                    ;XREF[1,0]:   308a
rom:3083        a0fa            LDY         #0xfa                                   
                            ;496ms delay
rom:3085        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:3088        c650            DEC         regs:official_cur_track_hi              ;= ??
rom:308a        d0f7            BNE         delayloop                               
rom:308c        7700            RMB         #0x7,0x0=>ZERO_PAGE:PORTA               
                            ;align to track 0
rom:308e        20423a          JSR         align_to_track0                         ;undefined align_to_track0()
                            ;do two shoeshine seeks (fully inward and back)
rom:3091        20a53b          JSR         shoeshine_seek                          ;undefined shoeshine_seek()
rom:3094        20a53b          JSR         shoeshine_seek                          ;undefined shoeshine_seek()
                            ;step to track 400
rom:3097        8744            SMB         #0x0,regs:step_inwards_flag             ;= ??
rom:3099        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:309c        a990            LDA         #144                                    
rom:309e        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:30a0        a901            LDA         #0x1                                    ;track 400
rom:30a2        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:30a4        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
                            ;find optimal stepping voltage
rom:30a7        20293b          JSR         stepper_voltage_cal                     ;undefined stepper_voltage_cal()
rom:30aa        a572            LDA         regs:ringout_result_question            ;= ??
rom:30ac        c901            CMP         #0x1                                    
rom:30ae        d00d            BNE         optimal_voltage_found                   
                            ;if not found, just use a default
rom:30b0        a9ee            LDA         #0xee                                   ;10.43V stepper drive
rom:30b2        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:30b4        856e            STA         regs:current_stepper_voltage            ;= ??
rom:30b6        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:30b9        a900            LDA         #0x0                                    
rom:30bb        8572            STA         regs:ringout_result_question            ;= ??
                            optimal_voltage_found:        ;XREF[1,0]:   30ae
rom:30bd        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
                            ;step back to track 0
rom:30bf        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:30c2        a990            LDA         #0x90                                   
rom:30c4        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:30c6        a901            LDA         #0x1                                    
rom:30c8        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:30ca        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
                            ;check for life test or recovery mode
rom:30cd        bf0112          BBS         #0x3,ZERO_PAGE:PORTB,start_normal_ope...;= ??
rom:30d0        af010f          BBS         #0x2,ZERO_PAGE:PORTB,start_normal_ope...;= ??
                            life_test_or_recovery:        ;XREF[1,0]:   30d6
rom:30d3        20a53b          JSR         shoeshine_seek                          ;undefined shoeshine_seek()
rom:30d6        3f01fa          BBR         #0x3,ZERO_PAGE:PORTB,life_test_or_rec...;loop as long as LIFE_TEST assert
                            ;LIFE_TEST deasserted, so recal and go back to track0
rom:30d9        20423a          JSR         align_to_track0                         ;undefined align_to_track0()
                            ;one last shoeshine
rom:30dc        20a53b          JSR         shoeshine_seek                          ;undefined shoeshine_seek()
rom:30df        20a53b          JSR         shoeshine_seek                          ;undefined shoeshine_seek()
                            ;set track0, ready, and seek complete
                            start_normal_operation:       ;XREF[2,0]:   30cd,30d0
rom:30e2        0701            RMB         #0x0,ZERO_PAGE:PORTB                    ;we are at track 0!
rom:30e4        207337          JSR         load_bcount_en_int                      ;setup counter b for step inputs
rom:30e7        20b137          JSR         finalize_seek_completed                 ;undefined finalize_seek_completed()
                            ;allow step signals to trigger counter b
rom:30ea        d700            SMB         #0x5,0x0=>ZERO_PAGE:PORTA               
rom:30ec        58              CLI                                                 
                            main_loop:                    ;XREF[3,0]:   311c,3121,3277
rom:30ed        a902            LDA         #0x2                                    
rom:30ef        8560            STA         regs:DAT_0060                           ;= ??
                            LAB_30f1:                     ;XREF[1,0]:   3118
rom:30f1        0710            RMB         #0x0,ZERO_PAGE:CLRINT                   ;= ??
                            LAB_30f3:                     ;XREF[1,0]:   30f3
rom:30f3        0f11fd          BBR         #0x0,ZERO_PAGE:INT_FLAGS,LAB_30f3       ;= ??
rom:30f6        0710            RMB         #0x0,ZERO_PAGE:CLRINT                   ;= ??
rom:30f8        a9d4            LDA         #0xd4                                   
rom:30fa        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:30fc        a980            LDA         #0x80                                   
rom:30fe        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:3100        a99c            LDA         #0x9c                                   
rom:3102        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3104        a902            LDA         #0x2                                    
rom:3106        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
                            LAB_3108:                     ;XREF[1,0]:   310b
rom:3108        8f110b          BBS         #0x0,ZERO_PAGE:INT_FLAGS,LAB_3116       ;= ??
rom:310b        4f11fa          BBR         #0x4,ZERO_PAGE:INT_FLAGS,LAB_3108       ;= ??
rom:310e        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
                            LAB_3110:                     ;XREF[1,0]:   3113
rom:3110        8f110c          BBS         #0x0,ZERO_PAGE:INT_FLAGS,LAB_311f       ;= ??
rom:3113        4f11fa          BBR         #0x4,ZERO_PAGE:INT_FLAGS,LAB_3110       ;= ??
                            LAB_3116:                     ;XREF[1,0]:   3108
rom:3116        c660            DEC         regs:DAT_0060                           ;= ??
rom:3118        d0d7            BNE         LAB_30f1                                
rom:311a        9700            SMB         #0x1,0x0=>ZERO_PAGE:PORTA               
rom:311c        4ced30          JMP         main_loop                               
                            LAB_311f:                     ;XREF[1,0]:   3110
rom:311f        1700            RMB         #0x1,0x0=>ZERO_PAGE:PORTA               
rom:3121        4ced30          JMP         main_loop                               
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined IRQ_VECTOR()
                                                          ;XREF[1,0]:   3ffd
rom:3124        a55f            LDA         regs:enable_timera_uf_int               ;= ??
rom:3126        f003            BEQ         skip_timera_uf_check                    
rom:3128        cf1106          BBS         #0x4,ZERO_PAGE:INT_...,timera_underfl...;= ??
                            skip_timera_uf_check:         ;XREF[1,0]:   3126
rom:312b        df1121          BBS         #0x5,ZERO_PAGE:INT_...,bcount_underfl...;= ??
rom:312e        4c7732          JMP         go_to_mainloop                          
                            timera_underflowed:           ;XREF[1,0]:   3128
rom:3131        a901            LDA         #0x1                                    
rom:3133        855e            STA         regs:timera_uf_flag                     ;= ??
rom:3135        a55b            LDA         regs:triple_step_in_timer_irq           ;= ??
rom:3137        d006            BNE         LAB_313f                                
rom:3139        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:313c        4c4c31          JMP         LAB_314c                                
                            LAB_313f:                     ;XREF[1,0]:   3137
rom:313f        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3142        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3145        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3148        a900            LDA         #0x0                                    
rom:314a        855b            STA         regs:triple_step_in_timer_irq           ;= ??
                            LAB_314c:                     ;XREF[1,0]:   313c
rom:314c        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;clear timer
rom:314e        40              RTI                                                 
                            bcount_underflowed:           ;XREF[1,0]:   312b
rom:314f        8701            SMB         #0x0,ZERO_PAGE:PORTB                    ;not at track0
rom:3151        a2ff            LDX         #0xff                                   
rom:3153        9a              TXS                                                 
rom:3154        a900            LDA         #0x0                                    
rom:3156        8555            STA         regs:step_by_delta_flag_unk             ;= ??
rom:3158        8575            STA         regs:track1_step_flag_question          ;= ??
rom:315a        a906            LDA         #0x6                                    
rom:315c        8550            STA         regs:official_cur_track_hi              ;= ??
rom:315e        1f0112          BBR         #0x1,ZERO_PAGE:PORTB,L_DIR_is_zero      ;= ??
                            ;inwards to spindle
rom:3161        38              SEC                                                 
rom:3162        a98e            LDA         #0x8e                                   ;910
rom:3164        e541            SBC         regs:unofficial_cur_track_lo            ;= ??
rom:3166        8554            STA         regs:tracks_to_end_lo                   ;= ??
rom:3168        a903            LDA         #0x3                                    
rom:316a        e540            SBC         regs:unofficial_cur_track_hi            ;= ??
rom:316c        8553            STA         regs:tracks_to_end_hi                   ;= ??
rom:316e        8744            SMB         #0x0,regs:step_inwards_flag             ;= ??
rom:3170        4c7d31          JMP         LAB_317d                                
                            ;outwards to track 0
                            L_DIR_is_zero:                ;XREF[1,0]:   315e
rom:3173        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:3175        8554            STA         regs:tracks_to_end_lo                   ;= ??
rom:3177        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:3179        8553            STA         regs:tracks_to_end_hi                   ;= ??
rom:317b        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
                            LAB_317d:                     ;XREF[1,0]:   3170
rom:317d        ff0146          BBS         #0x7,ZERO_PAGE:PORTB,halfstep_testpoint ;= ??
rom:3180        a55c            LDA         regs:DAT_005c                           ;= ??
rom:3182        d006            BNE         LAB_318a                                
rom:3184        e65c            INC         regs:DAT_005c                           ;= ??
rom:3186        0641            ASL         regs:unofficial_cur_track_lo            ;multiply by 2
rom:3188        2640            ROL         regs:unofficial_cur_track_hi            ;= ??
                            LAB_318a:                     ;XREF[1,0]:   3182
rom:318a        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:318d        20af36          JSR         wiggle_to_plus_0_5                      ;undefined wiggle_to_plus_0_5()
rom:3190        a900            LDA         #0x0                                    
rom:3192        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3194        a901            LDA         #0x1                                    
rom:3196        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3198        20e335          JSR         compute_new_nonfinal_tracknum           ;undefined compute_new_nonfinal_track...
rom:319b        206637          JSR         update_track0_signal_question           ;undefined update_track0_signal_quest...
rom:319e        58              CLI                                                 
rom:319f        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:31a1        c9ff            CMP         #0xff                                   
rom:31a3        f00d            BEQ         negative_tracknum                       
rom:31a5        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:31a7        4a              LSR         A                                       
rom:31a8        8550            STA         regs:official_cur_track_hi              ;= ??
rom:31aa        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:31ac        6a              ROR         A                                       
rom:31ad        8551            STA         regs:official_cur_track_lo              ;divide by 2
rom:31af        4cb831          JMP         set_seek_complete                       
                            negative_tracknum:            ;XREF[1,0]:   31a3
rom:31b2        a900            LDA         #0x0                                    
rom:31b4        8550            STA         regs:official_cur_track_hi              ;= ??
rom:31b6        8551            STA         regs:official_cur_track_lo              ;= ??
                            set_seek_complete:            ;XREF[1,0]:   31af
rom:31b8        200b39          JSR         set_write_current                       ;undefined set_write_current()
rom:31bb        a008            LDY         #0x8                                    
rom:31bd        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:31c0        8d0701          STA         STACK:MCU_SEEK_COMPLETE                 ;= ??
rom:31c3        4c7732          JMP         go_to_mainloop                          
                            halfstep_testpoint:           ;XREF[1,0]:   317d
rom:31c6        a55c            LDA         regs:DAT_005c                           ;= ??
rom:31c8        f006            BEQ         LAB_31d0                                
rom:31ca        c65c            DEC         regs:DAT_005c                           ;= ??
rom:31cc        4640            LSR         regs:unofficial_cur_track_hi            ;= ??
rom:31ce        6641            ROR         regs:unofficial_cur_track_lo            ;= ??
                            LAB_31d0:                     ;XREF[4,0]:   31c8,31ee,31f6,3208
rom:31d0        20bc3b          JSR         FUN_3bbc                                ;undefined FUN_3bbc()
rom:31d3        a550            LDA         regs:official_cur_track_hi              ;= ??
rom:31d5        300c            BMI         LAB_31e3                                
rom:31d7        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:31d9        d01f            BNE         LAB_31fa                                
rom:31db        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:31dd        c922            CMP         #0x22                                   
rom:31df        b019            BCS         LAB_31fa                                
rom:31e1        c650            DEC         regs:official_cur_track_hi              ;= ??
                            LAB_31e3:                     ;XREF[1,0]:   31d5
rom:31e3        a213            LDX         #0x13                                   
rom:31e5        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:31e8        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:31ea        49ff            EOR         #0xff                                   
rom:31ec        c51d            CMP         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:31ee        d0e0            BNE         LAB_31d0                                
rom:31f0        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:31f2        49ff            EOR         #0xff                                   
rom:31f4        c51e            CMP         ZERO_PAGE:BCOUNT_L                      ;= ??
rom:31f6        d0d8            BNE         LAB_31d0                                
rom:31f8        f014            BEQ         LAB_320e                                
                            LAB_31fa:                     ;XREF[2,0]:   31d9,31df
rom:31fa        a553            LDA         regs:tracks_to_end_hi                   ;= ??
rom:31fc        d00c            BNE         LAB_320a                                
rom:31fe        a554            LDA         regs:tracks_to_end_lo                   ;= ??
rom:3200        c952            CMP         #0x52                                   
rom:3202        b006            BCS         LAB_320a                                
rom:3204        a9ff            LDA         #0xff                                   
rom:3206        8550            STA         regs:official_cur_track_hi              ;= ??
rom:3208        d0c6            BNE         LAB_31d0                                
                            LAB_320a:                     ;XREF[2,0]:   31fc,3202
rom:320a        a902            LDA         #0x2                                    
rom:320c        8555            STA         regs:step_by_delta_flag_unk             ;= ??
                            LAB_320e:                     ;XREF[2,0]:   31f8,326a
rom:320e        2f0109          BBR         #0x2,ZERO_PAGE:PORTB,recovery_or_life...;= ??
rom:3211        3f0106          BBR         #0x3,ZERO_PAGE:PORTB,recovery_or_life...;= ??
rom:3214        202639          JSR         just_rts                                ;undefined just_rts()
rom:3217        4c4432          JMP         LAB_3244                                
                            recovery_or_lifetest_mode_on: ;XREF[2,0]:   320e,3211
rom:321a        a54f            LDA         regs:DAT_004f                           ;= ??
rom:321c        f006            BEQ         LAB_3224                                
rom:321e        a900            LDA         #0x0                                    
rom:3220        854f            STA         regs:DAT_004f                           ;= ??
rom:3222        f00e            BEQ         LAB_3232                                
                            LAB_3224:                     ;XREF[1,0]:   321c
rom:3224        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:3227        38              SEC                                                 
rom:3228        a554            LDA         regs:tracks_to_end_lo                   ;= ??
rom:322a        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:322c        a553            LDA         regs:tracks_to_end_hi                   ;= ??
rom:322e        e545            SBC         regs:temp_trackcount_hi                 ;= ??
rom:3230        b00f            BCS         LAB_3241                                
                            LAB_3232:                     ;XREF[2,0]:   3222,336e
rom:3232        20423a          JSR         align_to_track0                         ;undefined align_to_track0()
rom:3235        0701            RMB         #0x0,ZERO_PAGE:PORTB                    ;we are at track0?
rom:3237        207337          JSR         load_bcount_en_int                      ;undefined load_bcount_en_int()
rom:323a        20b137          JSR         finalize_seek_completed                 ;undefined finalize_seek_completed()
rom:323d        58              CLI                                                 
rom:323e        4c7732          JMP         go_to_mainloop                          
                            LAB_3241:                     ;XREF[1,0]:   3230
rom:3241        206a35          JSR         step_by_delta                           ;undefined step_by_delta()
                            LAB_3244:                     ;XREF[1,0]:   3217
rom:3244        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3246        d025            BNE         LAB_326d                                
rom:3248        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:324a        c901            CMP         #0x1                                    
rom:324c        d01f            BNE         LAB_326d                                
rom:324e        a55d            LDA         regs:fullstep_mode_question             ;= ??
rom:3250        c901            CMP         #0x1                                    
rom:3252        f019            BEQ         LAB_326d                                
rom:3254        a51d            LDA         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:3256        c9ff            CMP         #0xff                                   
rom:3258        d013            BNE         LAB_326d                                
rom:325a        a51e            LDA         ZERO_PAGE:BCOUNT_L                      ;= ??
rom:325c        c9fd            CMP         #0xfd                                   
rom:325e        d00d            BNE         LAB_326d                                
rom:3260        a901            LDA         #0x1                                    
rom:3262        855d            STA         regs:fullstep_mode_question             ;= ??
rom:3264        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3266        a900            LDA         #0x0                                    
rom:3268        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:326a        4c0e32          JMP         LAB_320e                                
                            LAB_326d:                     ;XREF[5,0]:   3246,324c,3252,3258,325e
rom:326d        206637          JSR         update_track0_signal_question           ;undefined update_track0_signal_quest...
rom:3270        58              CLI                                                 
rom:3271        20c637          JSR         ringout_cal_or_set_stepper_volt         ;undefined ringout_cal_or_set_stepper...
rom:3274        208637          JSR         FUN_3786                                ;undefined FUN_3786()
                            go_to_mainloop:               ;XREF[3,0]:   312e,31c3,323e
rom:3277        4ced30          JMP         FUN_3292::main_loop                     
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined delay_3ms()
                                                          ;XREF[1,0]:   37d7
rom:327a        a003            LDY         #0x3                                    
rom:327c        d002            BNE         delay_y_ms                              
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined delay_40ms()
                                                          ;XREF[1,0]:   3a51
rom:327e        a028            LDY         #0x28                                   
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined delay_y_ms()
                                                          ;XREF[12,0]:  3074,3085,31bd,327c,3286,34e5,37df,38db
                                                          ;             392c,3a32,3b21,3bb8
rom:3280        a263            LDX         #0x63                                   ;992us
rom:3282        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3285        88              DEY                                                 
rom:3286        d0f8            BNE         delay_y_ms                              
rom:3288        60              RTS                                                 
                            loop:                         ;XREF[1,0]:   328f
rom:3289        209132          JSR         just_rts                                ;undefined just_rts()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined delay_x10us()
                                                          ;XREF[18,0]:  3061,3079,31e5,3282,348d,349e,360e,361b
                                                          ;             3629,3647,3658,3666,3680,368d,369b,36bc
                                                          ;             36c7,36d2
rom:328c        8556            STA         regs:DAT_0056                           ;= ??
rom:328e        ca              DEX                                                 
rom:328f        d0f8            BNE         loop                                    
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined just_rts()
                                                          ;XREF[6,0]:   3289,361e,362c,364a,3690,369e
rom:3291        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3292()
                                                          ;XREF[1,0]:   35e0
rom:3292        a901            LDA         #0x1                                    
rom:3294        855b            STA         regs:triple_step_in_timer_irq           ;= ??
rom:3296        20ee3a          JSR         fullstepmode_load_alt_ringdata          ;undefined fullstepmode_load_alt_ring...
rom:3299        a964            LDA         #0x64                                   ;50us?
rom:329b        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:329d        a900            LDA         #0x0                                    
rom:329f        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:32a1        855e            STA         regs:timera_uf_flag                     ;= ??
rom:32a3        c712            SMB         #0x4,ZERO_PAGE:INT_ENABLES              ;= ??
rom:32a5        58              CLI                                                 
                            LAB_32a6:                     ;XREF[1,0]:   32ce
rom:32a6        a44b            LDY         regs:DAT_004b                           ;= ??
rom:32a8        d003            BNE         FUN_32ad                                
rom:32aa        4cf332          JMP         FUN_32f3                                ;undefined FUN_32f3()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_32ad()
                                                          ;XREF[3,0]:   32a8,33f0,341d
rom:32ad        88              DEY                                                 
rom:32ae        98              TYA                                                 
rom:32af        0a              ASL         A                                       
rom:32b0        a8              TAY                                                 
rom:32b1        b147            LDA         (regs:DAT_0047),Y                       ;= ??
rom:32b3        0a              ASL         A                                       
rom:32b4        0901            ORA         #0x1                                    
rom:32b6        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:32b8        c8              INY                                                 
rom:32b9        b147            LDA         (regs:DAT_0047),Y                       ;= ??
rom:32bb        2a              ROL         A                                       
rom:32bc        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:32be        a900            LDA         #0x0                                    
rom:32c0        855e            STA         regs:timera_uf_flag                     ;= ??
rom:32c2        58              CLI                                                 
                            LAB_32c3:                     ;XREF[1,0]:   32c7
rom:32c3        ea              NOP                                                 
rom:32c4        ea              NOP                                                 
rom:32c5        a55e            LDA         regs:timera_uf_flag                     ;= ??
rom:32c7        f0fa            BEQ         LAB_32c3                                
rom:32c9        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:32cb        78              SEI                                                 
                            LAB_32cc:                     ;XREF[1,0]:   3714
rom:32cc        c64b            DEC         regs:DAT_004b                           ;= ??
rom:32ce        d0d6            BNE         LAB_32a6                                
rom:32d0        a555            LDA         regs:step_by_delta_flag_unk             ;= ??
rom:32d2        c902            CMP         #0x2                                    
rom:32d4        d01d            BNE         FUN_32f3                                
rom:32d6        a51d            LDA         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:32d8        49ff            EOR         #0xff                                   
rom:32da        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:32dc        a51c            LDA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:32de        49ff            EOR         #0xff                                   
rom:32e0        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:32e2        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:32e4        d00a            BNE         LAB_32f0                                
rom:32e6        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:32e8        cd9c3c          CMP         DAT_3c9c                                ;= 52h
rom:32eb        b003            BCS         LAB_32f0                                
rom:32ed        4cbd33          JMP         FUN_33bd                                ;undefined FUN_33bd()
                            LAB_32f0:                     ;XREF[2,0]:   32e4,32eb
rom:32f0        4cf333          JMP         FUN_33f3                                ;undefined FUN_33f3()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_32f3()
                                                          ;XREF[2,0]:   32aa,32d4
rom:32f3        a542            LDA         regs:DAT_0042                           ;= ??
rom:32f5        0543            ORA         regs:DAT_0043                           ;= ??
rom:32f7        f078            BEQ         FUN_3371                                
                            LAB_32f9:                     ;XREF[1,0]:   3331
rom:32f9        ad983c          LDA         DAT_3c98                                ;= 59h
rom:32fc        0a              ASL         A                                       
rom:32fd        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:32ff        ad993c          LDA         DAT_3c99                                
rom:3302        2a              ROL         A                                       
rom:3303        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:3305        a555            LDA         regs:step_by_delta_flag_unk             ;= ??
rom:3307        f00b            BEQ         LAB_3314                                
                            LAB_3309:                     ;XREF[1,0]:   3362
rom:3309        38              SEC                                                 
rom:330a        a554            LDA         regs:tracks_to_end_lo                   ;= ??
rom:330c        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:330e        a553            LDA         regs:tracks_to_end_hi                   ;= ??
rom:3310        e545            SBC         regs:temp_trackcount_hi                 ;= ??
rom:3312        9051            BCC         LAB_3365                                
                            LAB_3314:                     ;XREF[1,0]:   3307
rom:3314        a900            LDA         #0x0                                    
rom:3316        855e            STA         regs:timera_uf_flag                     ;= ??
rom:3318        58              CLI                                                 
                            LAB_3319:                     ;XREF[1,0]:   331d
rom:3319        ea              NOP                                                 
rom:331a        ea              NOP                                                 
rom:331b        a55e            LDA         regs:timera_uf_flag                     ;= ??
rom:331d        f0fa            BEQ         LAB_3319                                
rom:331f        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3321        78              SEI                                                 
rom:3322        38              SEC                                                 
rom:3323        a543            LDA         regs:DAT_0043                           ;= ??
rom:3325        e901            SBC         #0x1                                    
rom:3327        8543            STA         regs:DAT_0043                           ;= ??
rom:3329        a542            LDA         regs:DAT_0042                           ;= ??
rom:332b        e900            SBC         #0x0                                    
rom:332d        8542            STA         regs:DAT_0042                           ;= ??
rom:332f        0543            ORA         regs:DAT_0043                           ;= ??
rom:3331        d0c6            BNE         LAB_32f9                                
rom:3333        a555            LDA         regs:step_by_delta_flag_unk             ;= ??
rom:3335        f03a            BEQ         FUN_3371                                
rom:3337        a51d            LDA         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:3339        49ff            EOR         #0xff                                   
rom:333b        8550            STA         regs:official_cur_track_hi              ;= ??
rom:333d        a51c            LDA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:333f        49ff            EOR         #0xff                                   
rom:3341        8551            STA         regs:official_cur_track_lo              ;= ??
rom:3343        c546            CMP         regs:temp_trackcount_lo                 ;= ??
rom:3345        d006            BNE         LAB_334d                                
rom:3347        a550            LDA         regs:official_cur_track_hi              ;= ??
rom:3349        c545            CMP         regs:temp_trackcount_hi                 ;= ??
rom:334b        f024            BEQ         FUN_3371                                
                            LAB_334d:                     ;XREF[1,0]:   3345
rom:334d        38              SEC                                                 
rom:334e        a551            LDA         regs:official_cur_track_lo              ;= ??
rom:3350        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:3352        8543            STA         regs:DAT_0043                           ;= ??
rom:3354        a550            LDA         regs:official_cur_track_hi              ;= ??
rom:3356        e545            SBC         regs:temp_trackcount_hi                 ;= ??
rom:3358        8542            STA         regs:DAT_0042                           ;= ??
rom:335a        a551            LDA         regs:official_cur_track_lo              ;= ??
rom:335c        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:335e        a550            LDA         regs:official_cur_track_hi              ;= ??
rom:3360        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3362        4c0933          JMP         LAB_3309                                
                            LAB_3365:                     ;XREF[1,0]:   3312
rom:3365        204537          JSR         FUN_3745                                ;undefined FUN_3745()
rom:3368        207133          JSR         FUN_3371                                ;undefined FUN_3371()
rom:336b        a2ff            LDX         #0xff                                   
rom:336d        9a              TXS                                                 
rom:336e        4c3232          JMP         LAB_3232                                
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3371()
                                                          ;XREF[4,0]:   32f7,3335,334b,3368
rom:3371        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3373        d01b            BNE         LAB_3390                                
rom:3375        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:3377        c902            CMP         #0x2                                    
rom:3379        f024            BEQ         LAB_339f                                
rom:337b        c956            CMP         #0x56                                   
rom:337d        b011            BCS         LAB_3390                                
rom:337f        38              SEC                                                 
rom:3380        e901            SBC         #0x1                                    
rom:3382        0a              ASL         A                                       
rom:3383        a8              TAY                                                 
rom:3384        b9a73c          LDA         DAT_3ca7,Y                              
rom:3387        0a              ASL         A                                       
rom:3388        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:338a        b9a83c          LDA         DAT_3ca8,Y                              
rom:338d        4c9933          JMP         LAB_3399                                
                            LAB_3390:                     ;XREF[2,0]:   3373,337d
rom:3390        ad9d3c          LDA         DAT_3c9d                                ;= EBh
rom:3393        0a              ASL         A                                       
rom:3394        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3396        ad9e3c          LDA         DAT_3c9e                                
                            LAB_3399:                     ;XREF[1,0]:   338d
rom:3399        2a              ROL         A                                       
rom:339a        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:339c        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
                            LAB_339f:                     ;XREF[2,0]:   3379,33b7
rom:339f        a44c            LDY         regs:DAT_004c                           ;= ??
rom:33a1        f016            BEQ         LAB_33b9                                
rom:33a3        88              DEY                                                 
rom:33a4        98              TYA                                                 
rom:33a5        0a              ASL         A                                       
rom:33a6        a8              TAY                                                 
rom:33a7        b149            LDA         (regs:DAT_0049),Y                       ;= ??
rom:33a9        0a              ASL         A                                       
rom:33aa        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:33ac        c8              INY                                                 
rom:33ad        b149            LDA         (regs:DAT_0049),Y                       ;= ??
rom:33af        2a              ROL         A                                       
rom:33b0        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:33b2        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
rom:33b5        c64c            DEC         regs:DAT_004c                           ;= ??
rom:33b7        d0e6            BNE         LAB_339f                                
                            LAB_33b9:                     ;XREF[1,0]:   33a1
rom:33b9        202034          JSR         FUN_3420                                ;undefined FUN_3420()
rom:33bc        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_33bd()
                                                          ;XREF[1,0]:   32ed
rom:33bd        38              SEC                                                 
rom:33be        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:33c0        e901            SBC         #0x1                                    
rom:33c2        aa              TAX                                                 
rom:33c3        bdc43d          LDA         DAT_3dc4,X                              
rom:33c6        854c            STA         regs:DAT_004c                           ;= ??
rom:33c8        bd6f3d          LDA         DAT_3d6f,X                              
rom:33cb        854b            STA         regs:DAT_004b                           ;= ??
rom:33cd        38              SEC                                                 
rom:33ce        ad9a3c          LDA         DAT_3c9a                                ;= 3Ch
rom:33d1        e54b            SBC         regs:DAT_004b                           ;= ??
rom:33d3        8550            STA         regs:official_cur_track_hi              ;= ??
rom:33d5        0650            ASL         regs:official_cur_track_hi              ;= ??
rom:33d7        18              CLC                                                 
rom:33d8        a9fc            LDA         #0xfc                                   
rom:33da        6550            ADC         regs:official_cur_track_hi              ;= ??
rom:33dc        8547            STA         regs:DAT_0047                           ;= ??
rom:33de        a93b            LDA         #0x3b                                   
rom:33e0        6900            ADC         #0x0                                    
rom:33e2        8548            STA         regs:DAT_0047+1                         
rom:33e4        a900            LDA         #0x0                                    
rom:33e6        8555            STA         regs:step_by_delta_flag_unk             ;= ??
rom:33e8        38              SEC                                                 
rom:33e9        a54b            LDA         regs:DAT_004b                           ;= ??
rom:33eb        e911            SBC         #0x11                                   
rom:33ed        854b            STA         regs:DAT_004b                           ;= ??
rom:33ef        a8              TAY                                                 
rom:33f0        4cad32          JMP         FUN_32ad                                ;undefined FUN_32ad()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_33f3()
                                                          ;XREF[1,0]:   32f0
rom:33f3        a9fc            LDA         #0xfc                                   
rom:33f5        8547            STA         regs:DAT_0047                           ;= ??
rom:33f7        a93b            LDA         #0x3b                                   
rom:33f9        8548            STA         regs:DAT_0047+1                         
rom:33fb        ad9a3c          LDA         DAT_3c9a                                ;= 3Ch
rom:33fe        854b            STA         regs:DAT_004b                           ;= ??
rom:3400        ad9b3c          LDA         DAT_3c9b                                ;= 12h
rom:3403        854c            STA         regs:DAT_004c                           ;= ??
rom:3405        38              SEC                                                 
rom:3406        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:3408        ed9c3c          SBC         DAT_3c9c                                ;= 52h
rom:340b        8543            STA         regs:DAT_0043                           ;= ??
rom:340d        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:340f        e900            SBC         #0x0                                    
rom:3411        8542            STA         regs:DAT_0042                           ;= ??
rom:3413        c655            DEC         regs:step_by_delta_flag_unk             ;= ??
rom:3415        38              SEC                                                 
rom:3416        a54b            LDA         regs:DAT_004b                           ;= ??
rom:3418        e911            SBC         #0x11                                   
rom:341a        854b            STA         regs:DAT_004b                           ;= ??
rom:341c        a8              TAY                                                 
rom:341d        4cad32          JMP         FUN_32ad                                ;undefined FUN_32ad()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3420()
                                                          ;XREF[1,0]:   33b9
rom:3420        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3422        d017            BNE         LAB_343b                                
rom:3424        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:3426        c951            CMP         #0x51                                   
rom:3428        b011            BCS         LAB_343b                                
rom:342a        38              SEC                                                 
rom:342b        e901            SBC         #0x1                                    
rom:342d        0a              ASL         A                                       
rom:342e        a8              TAY                                                 
rom:342f        b9193e          LDA         DAT_3e19,Y                              
rom:3432        0a              ASL         A                                       
rom:3433        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3435        b91a3e          LDA         DAT_3e1a,Y                              
rom:3438        4c4434          JMP         LAB_3444                                
                            LAB_343b:                     ;XREF[2,0]:   3422,3428
rom:343b        ad9f3c          LDA         DAT_3c9f                                ;= FFh
rom:343e        0a              ASL         A                                       
rom:343f        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3441        ada03c          LDA         DAT_3ca0                                ;= 02h
                            LAB_3444:                     ;XREF[1,0]:   3438
rom:3444        2a              ROL         A                                       
rom:3445        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:3447        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
rom:344a        a94e            LDA         #0x4e                                   
rom:344c        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:344e        a902            LDA         #0x2                                    
rom:3450        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:3452        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
rom:3455        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3458        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
rom:345b        4712            RMB         #0x4,ZERO_PAGE:INT_ENABLES              ;= ??
rom:345d        78              SEI                                                 
rom:345e        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined set_step_direction()
                                                          ;XREF[7,0]:   3099,30bf,318a,3224,3576,3a56,3aa2
rom:345f        8f4405          BBS         #0x0,regs:step_inwa...,do_step_inwards  ;= ??
rom:3462        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;DIRECTION=1 should be to edge
rom:3464        4c6934          JMP         LAB_3469                                
                            do_step_inwards:              ;XREF[1,0]:   345f
rom:3467        1757            RMB         #0x1,regs:EXT_PORT_SHAD                 ;DIRECTION=0 should be to spindle
                            LAB_3469:                     ;XREF[1,0]:   3464
rom:3469        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:346c        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_by_10_tracks()
                                                          ;XREF[3,0]:   3a68,3a75,3abc
rom:346d        a90a            LDA         #10                                     
rom:346f        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3471        a900            LDA         #0x0                                    ;track 10
rom:3473        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3475        855b            STA         regs:triple_step_in_timer_irq           ;= ??
rom:3477        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
rom:347a        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined do_20_softsteps()
                                                          ;XREF[1,0]:   3aca
rom:347b        a757            SMB         #0x2,regs:EXT_PORT_SHAD                 ;= ??
rom:347d        20f234          JSR         turn_on_halfstep_alt                    ;undefined turn_on_halfstep_alt()
rom:3480        a014            LDY         #20                                     
                            loop:                         ;XREF[1,0]:   34a1
rom:3482        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3485        98              TYA                                                 
rom:3486        f01c            BEQ         hit_end                                 
rom:3488        88              DEY                                                 
                                                          ; FWD[2,0]:   3be8,3bfb
rom:3489        b9e83b          LDA         delay_table,Y                           ;= 06h
                                                                                    ;= 09h
rom:348c        aa              TAX                                                 
rom:348d        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3490        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3493        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3496        98              TYA                                                 
rom:3497        f00b            BEQ         hit_end                                 
rom:3499        88              DEY                                                 
                                                          ; FWD[2,0]:   3be8,3bfa
rom:349a        b9e83b          LDA         delay_table,Y                           ;= 06h
                                                                                    ;= 4Ch
rom:349d        aa              TAX                                                 
rom:349e        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:34a1        4c8234          JMP         loop                                    
                            hit_end:                      ;XREF[2,0]:   3486,3497
rom:34a4        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:34a7        a90a            LDA         #10                                     
rom:34a9        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:34ab        a900            LDA         #0x0                                    
rom:34ad        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:34af        20c637          JSR         ringout_cal_or_set_stepper_volt         ;undefined ringout_cal_or_set_stepper...
rom:34b2        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined index_recal_locks_index()
                                                          ;XREF[1,0]:   3a4e
rom:34b3        f700            SMB         #0x7,0x0=>ZERO_PAGE:PORTA               
rom:34b5        a910            LDA         #0x10                                   
rom:34b7        8d0401          STA         STACK:DAT_0104                          ;= ??
rom:34ba        a757            SMB         #0x2,regs:EXT_PORT_SHAD                 ;No halfstep
rom:34bc        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
                            ;Lock index
rom:34bf        0757            RMB         #0x0,regs:EXT_PORT_SHAD                 ;INDEX_SYNC=0
rom:34c1        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:34c4        8757            SMB         #0x0,regs:EXT_PORT_SHAD                 ;INDEX_SYNC=1
rom:34c6        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;DIRECTION=1
rom:34c8        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:34cb        8d0101          STA         STACK:STEP_SEQR_CLK                     ;pulse the motor
rom:34ce        1757            RMB         #0x1,regs:EXT_PORT_SHAD                 ;DIRECTION=0
rom:34d0        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:34d3        8d0101          STA         STACK:STEP_SEQR_CLK                     ;pulse the motor
rom:34d6        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;DIRECTION=1
rom:34d8        203035          JSR         HalfStepOff                             ;undefined HalfStepOff()
rom:34db        20f234          JSR         turn_on_halfstep_alt                    ;undefined turn_on_halfstep_alt()
rom:34de        200035          JSR         set_stepper_volt_6_3V                   ;undefined set_stepper_volt_6_3V()
rom:34e1        7700            RMB         #0x7,0x0=>ZERO_PAGE:PORTA               
rom:34e3        a003            LDY         #0x3                                    
rom:34e5        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:34e8        20f834          JSR         set_stepper_volt_3_75V                  ;undefined set_stepper_volt_3_75V()
rom:34eb        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined turn_off_halfstep_alt()
                                                          ;XREF[1,0]:   363c
rom:34ec        b757            SMB         #0x3,regs:EXT_PORT_SHAD                 ;= ??
rom:34ee        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:34f1        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined turn_on_halfstep_alt()
                                                          ;XREF[5,0]:   3059,347d,34db,355d,36b4
rom:34f2        3757            RMB         #0x3,regs:EXT_PORT_SHAD                 ;= ??
rom:34f4        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:34f7        60              RTS                                                 
                            ;************************************************************************************************
                            ;*  (1.25*(0/128))/1.62K = 0mA current drawn from fb                                            *
                            ;*  2.5v + (.125)*10K = 3.75V                                                                   *
                            ;************************************************************************************************
                            ;undefined set_stepper_volt_3_75V()
                                                          ;XREF[5,0]:   34e8,355a,36af,37da,387e
rom:34f8        a980            LDA         #0x80                                   
rom:34fa        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:34fc        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:34ff        60              RTS                                                 
                            ;************************************************************************************************
                            ;*  (1.25*(42/128))/1.62K = 0.253mA current drawn from fb                                       *
                            ;*  2.5v + (.125+.253)*10K = 6.3V                                                               *
                            ;*                                                                                              *
                            ;************************************************************************************************
                            ;undefined set_stepper_volt_6_3V()
                                                          ;XREF[3,0]:   34de,37d4,3836
rom:3500        a9aa            LDA         #0xaa                                   
rom:3502        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:3504        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:3507        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined use_alt_stepper_voltage()
                                                          ;XREF[1,0]:   3af7
rom:3508        a56e            LDA         regs:current_stepper_voltage            ;= ??
rom:350a        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:350c        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:350f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*  Writes a byte to the ring detector LSI.                                                     *
                            ;*  This updates the stepper voltage (MSB=1) OR                                                 *
                            ;*  updates the ring detector mux (MSB=0)                                                       *
                            ;************************************************************************************************
                            ;undefined write_ring_lsi()
                                                          ;XREF[6,0]:   3028,30b6,34fc,3504,350c,381e
rom:3510        4757            RMB         #0x4,regs:EXT_PORT_SHAD                 ;lower ring LSI CS#
rom:3512        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3515        a208            LDX         #0x8                                    
rom:3517        a56f            LDA         regs:ring_lsi_byte                      ;= ??
                            ;************************************************************************************************
                            ;*                 Clocks out a byte using PORTA.4 as clock and PORTA.6 as data                 *
                            ;************************************************************************************************
                            bit_loop:                     ;XREF[1,0]:   3528
rom:3519        4700            RMB         #0x4,0x0=>ZERO_PAGE:PORTA               
rom:351b        6a              ROR         A                                       
rom:351c        b005            BCS         carry_set                               
rom:351e        6700            RMB         #0x6,0x0=>ZERO_PAGE:PORTA               
rom:3520        4c2535          JMP         do_clock                                
                            carry_set:                    ;XREF[1,0]:   351c
rom:3523        e700            SMB         #0x6,0x0=>ZERO_PAGE:PORTA               
                            do_clock:                     ;XREF[1,0]:   3520
rom:3525        c700            SMB         #0x4,0x0=>ZERO_PAGE:PORTA               
rom:3527        ca              DEX                                                 
rom:3528        d0ef            BNE         bit_loop                                
rom:352a        c757            SMB         #0x4,regs:EXT_PORT_SHAD                 ;raise ring LSI CS#
rom:352c        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:352f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined HalfStepOff()
                                                          ;XREF[2,0]:   3056,34d8
rom:3530        a757            SMB         #0x2,regs:EXT_PORT_SHAD                 ;= ??
rom:3532        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3535        60              RTS                                                 
rom:3536        27              ??          27h    '                                
rom:3537        57              ??          57h    W                                
rom:3538        20              ??          20h                                     
rom:3539        52              ??          52h    R                                
rom:353a        35              ??          35h    5                                
rom:353b        60              ??          60h    `                                
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined set_dir_inwards()
                                                          ;XREF[4,0]:   39e4,3a0a,3a25,3ad6
rom:353c        1757            RMB         #0x1,regs:EXT_PORT_SHAD                 ;= ??
rom:353e        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3541        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined set_dir_outwards()
                                                          ;XREF[7,0]:   39ef,39fa,3a10,3a1f,3a3c,3ab9,3ac7
rom:3542        9757            SMB         #0x1,regs:EXT_PORT_SHAD                 ;= ??
rom:3544        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3547        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined toggle_direction()
                                                          ;XREF[19,0]:  3455,3490,34a4,3613,3621,362f,3635,364d
                                                          ;             365b,3669,366f,3685,3693,36a1,36a7,36bf
                                                          ;             36ca,36d5,36db
rom:3548        a557            LDA         regs:EXT_PORT_SHAD                      ;= ??
rom:354a        4902            EOR         #0x2                                    
rom:354c        8557            STA         regs:EXT_PORT_SHAD                      ;= ??
rom:354e        8d0001          STA         STACK:EXT_PORT                          ;= ??
rom:3551        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined upd_ext_port()
                                                          ;XREF[19,0]:  300f,3038,303d,3044,304c,3068,3469,34bc
                                                          ;             34c1,34c8,34d0,34ee,34f4,3512,352c,3532
                                                          ;             353e,3544,3922
rom:3552        a557            LDA         regs:EXT_PORT_SHAD                      ;= ??
rom:3554        8d0001          STA         STACK:EXT_PORT                          ;= ??
rom:3557        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined turn_on_standard_halfstep()
                                                          ;XREF[1,0]:   3606
rom:3558        2757            RMB         #0x2,regs:EXT_PORT_SHAD                 ;halfstep on
rom:355a        20f834          JSR         set_stepper_volt_3_75V                  ;undefined set_stepper_volt_3_75V()
rom:355d        20f234          JSR         turn_on_halfstep_alt                    ;undefined turn_on_halfstep_alt()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_3_clocks()
                                                          ;XREF[3,0]:   3616,3678,3688
rom:3560        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_2_clocks()
                                                          ;XREF[5,0]:   3624,3696,36b7,36c2,36cd
rom:3563        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3566        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3569        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_by_delta()
                                                          ;XREF[2,0]:   3241,3ae7
rom:356a        a974            LDA         #0x74                                   
rom:356c        8549            STA         regs:DAT_0049                           ;= ??
rom:356e        a93c            LDA         #0x3c                                   
rom:3570        854a            STA         regs:DAT_0049+1                         
rom:3572        a901            LDA         #0x1                                    
rom:3574        855f            STA         regs:enable_timera_uf_int               ;= ??
rom:3576        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:3579        8701            SMB         #0x0,ZERO_PAGE:PORTB                    ;not track 0
rom:357b        a555            LDA         regs:step_by_delta_flag_unk             ;= ??
rom:357d        d055            BNE         LAB_35d4                                
rom:357f        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3581        d038            BNE         large_trackcount                        
rom:3583        a901            LDA         #0x1                                    
rom:3585        c546            CMP         regs:temp_trackcount_lo                 ;= ??
rom:3587        d02b            BNE         medium_trackcount                       
                            ;step magnitude is 1
rom:3589        a55d            LDA         regs:fullstep_mode_question             ;= ??
rom:358b        d01d            BNE         fullstep_mode_questionmark              
rom:358d        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:358f        d013            BNE         not_track1                              
rom:3591        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:3593        c901            CMP         #0x1                                    
rom:3595        d00d            BNE         not_track1                              
                            ;cur track is 1
rom:3597        8f440a          BBS         #0x0,regs:step_inwards_flag,not_track1  ;= ??
rom:359a        a901            LDA         #0x1                                    
rom:359c        8575            STA         regs:track1_step_flag_question          ;= ??
rom:359e        207336          JSR         halfstep_fun_alt_ring                   ;undefined halfstep_fun_alt_ring()
rom:35a1        4ce335          JMP         compute_new_nonfinal_tracknum           ;undefined compute_new_nonfinal_track...
                            not_track1:                   ;XREF[3,0]:   358f,3595,3597
rom:35a4        200636          JSR         bounce_minus_halftrack                  ;undefined bounce_minus_halftrack()
rom:35a7        4ce335          JMP         compute_new_nonfinal_tracknum           ;undefined compute_new_nonfinal_track...
                            fullstep_mode_questionmark:   ;XREF[1,0]:   358b
rom:35aa        a901            LDA         #0x1                                    
rom:35ac        8575            STA         regs:track1_step_flag_question          ;= ??
rom:35ae        203936          JSR         wiggle_fullstep                         ;undefined wiggle_fullstep()
rom:35b1        4ce335          JMP         compute_new_nonfinal_tracknum           ;undefined compute_new_nonfinal_track...
                            medium_trackcount:            ;XREF[1,0]:   3587
rom:35b4        38              SEC                                                 
rom:35b5        a951            LDA         #81                                     
rom:35b7        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:35b9        b006            BCS         LAB_35c1                                
                            large_trackcount:             ;XREF[1,0]:   3581
rom:35bb        204537          JSR         FUN_3745                                ;undefined FUN_3745()
rom:35be        4ce035          JMP         LAB_35e0                                
                            LAB_35c1:                     ;XREF[1,0]:   35b9
rom:35c1        38              SEC                                                 
rom:35c2        a90e            LDA         #14                                     
rom:35c4        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:35c6        b006            BCS         LAB_35ce                                
rom:35c8        201737          JSR         FUN_3717                                ;undefined FUN_3717()
rom:35cb        4ce035          JMP         LAB_35e0                                
                            LAB_35ce:                     ;XREF[1,0]:   35c6
rom:35ce        20df36          JSR         FUN_36df                                ;undefined FUN_36df()
rom:35d1        4ce335          JMP         compute_new_nonfinal_tracknum           ;undefined compute_new_nonfinal_track...
                            LAB_35d4:                     ;XREF[1,0]:   357d
rom:35d4        a952            LDA         #0x52                                   
rom:35d6        8547            STA         regs:DAT_0047                           ;= ??
rom:35d8        a93c            LDA         #0x3c                                   
rom:35da        8548            STA         regs:DAT_0047+1                         
rom:35dc        a911            LDA         #0x11                                   
rom:35de        854b            STA         regs:DAT_004b                           ;= ??
                            LAB_35e0:                     ;XREF[2,0]:   35be,35cb
rom:35e0        209232          JSR         FUN_3292                                ;undefined FUN_3292()
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined compute_new_nonfinal_tracknum()
                                                          ;XREF[5,0]:   3198,35a1,35a7,35b1,35d1
rom:35e3        a900            LDA         #0x0                                    
rom:35e5        8555            STA         regs:step_by_delta_flag_unk             ;= ??
rom:35e7        8f440e          BBS         #0x0,regs:step_inwards_flag,LAB_35f8    ;= ??
rom:35ea        38              SEC                                                 
rom:35eb        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:35ed        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:35ef        8541            STA         regs:unofficial_cur_track_lo            ;= ??
rom:35f1        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:35f3        e545            SBC         regs:temp_trackcount_hi                 ;= ??
rom:35f5        4c0336          JMP         LAB_3603                                
                            LAB_35f8:                     ;XREF[1,0]:   35e7
rom:35f8        18              CLC                                                 
rom:35f9        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:35fb        6546            ADC         regs:temp_trackcount_lo                 ;= ??
rom:35fd        8541            STA         regs:unofficial_cur_track_lo            ;= ??
rom:35ff        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:3601        6545            ADC         regs:temp_trackcount_hi                 ;= ??
                            LAB_3603:                     ;XREF[1,0]:   35f5
rom:3603        8540            STA         regs:unofficial_cur_track_hi            ;= ??
rom:3605        60              RTS                                                 
                            ;************************************************************************************************
                            ;*  Does a funny "bounce" to wind up at half a track                                            *
                            ;*  in the opposite direction as the current direction                                          *
                            ;************************************************************************************************
                            ;undefined bounce_minus_halftrack()
                                                          ;XREF[2,0]:   35a4,3942
rom:3606        205835          JSR         turn_on_standard_halfstep               ;undefined turn_on_standard_halfstep()
rom:3609        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 0 to 0.5
rom:360c        a243            LDX         #0x43                                   
rom:360e        208c32          JSR         delay_x10us                             ;670us
rom:3611        ea              NOP                                                 
rom:3612        ea              NOP                                                 
rom:3613        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3616        206035          JSR         step_3_clocks                           ;Phase 0.5 to 9
rom:3619        a288            LDX         #0x88                                   ;1360us
rom:361b        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:361e        209132          JSR         just_rts                                ;undefined just_rts()
rom:3621        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3624        206335          JSR         step_2_clocks                           ;Phase 9 to 0
rom:3627        a25e            LDX         #0x5e                                   ;940us
rom:3629        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:362c        209132          JSR         just_rts                                ;undefined just_rts()
rom:362f        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3632        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 0 to 9.5
rom:3635        204835          JSR         toggle_direction                        ;should be in original direction
rom:3638        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined wiggle_fullstep()
                                                          ;XREF[1,0]:   35ae
rom:3639        20ee3a          JSR         fullstepmode_load_alt_ringdata          ;undefined fullstepmode_load_alt_ring...
rom:363c        20ec34          JSR         turn_off_halfstep_alt                   ;undefined turn_off_halfstep_alt()
rom:363f        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 0 to 2
rom:3642        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3645        a236            LDX         #0x36                                   
rom:3647        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:364a        209132          JSR         just_rts                                ;undefined just_rts()
rom:364d        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3650        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 2 to 0
rom:3653        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3656        a25d            LDX         #0x5d                                   
rom:3658        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:365b        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:365e        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 0 to 2
rom:3661        8d0101          STA         STACK:STEP_SEQR_CLK                     ;= ??
rom:3664        a21e            LDX         #0x1e                                   
rom:3666        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3669        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:366c        8d0101          STA         STACK:STEP_SEQR_CLK                     ;Phase 2 to 1
rom:366f        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3672        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined halfstep_fun_alt_ring()
                                                          ;XREF[1,0]:   359e
rom:3673        2757            RMB         #0x2,regs:EXT_PORT_SHAD                 ;Turn on halfstep
rom:3675        20f03a          JSR         halfstepmode_load_alt_step_volt         ;undefined halfstepmode_load_alt_step...
rom:3678        206035          JSR         step_3_clocks                           ;1.5 steps
rom:367b        8d0101          STA         STACK:STEP_SEQR_CLK                     ;2.0 steps
rom:367e        a220            LDX         #0x20                                   
rom:3680        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3683        ea              NOP                                                 
rom:3684        ea              NOP                                                 
rom:3685        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3688        206035          JSR         step_3_clocks                           ;-1.5 steps -> 0.5
rom:368b        a268            LDX         #0x68                                   
rom:368d        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:3690        209132          JSR         just_rts                                ;undefined just_rts()
rom:3693        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:3696        206335          JSR         step_2_clocks                           ;+1.0 -> 1.5
rom:3699        a23f            LDX         #0x3f                                   
rom:369b        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:369e        209132          JSR         just_rts                                ;undefined just_rts()
rom:36a1        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36a4        8d0101          STA         STACK:STEP_SEQR_CLK                     ;-0.5 -> 1.0
rom:36a7        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36aa        a901            LDA         #0x1                                    
rom:36ac        855d            STA         regs:fullstep_mode_question             ;= ??
rom:36ae        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                             Wiggles stepper, ends up +0.5 tracks                             *
                            ;************************************************************************************************
                            ;undefined wiggle_to_plus_0_5()
                                                          ;XREF[2,0]:   318d,3927
rom:36af        20f834          JSR         set_stepper_volt_3_75V                  ;undefined set_stepper_volt_3_75V()
rom:36b2        2757            RMB         #0x2,regs:EXT_PORT_SHAD                 ;halfstep on
rom:36b4        20f234          JSR         turn_on_halfstep_alt                    ;undefined turn_on_halfstep_alt()
rom:36b7        206335          JSR         step_2_clocks                           ;+1
rom:36ba        a229            LDX         #0x29                                   
rom:36bc        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:36bf        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36c2        206335          JSR         step_2_clocks                           ;-1
rom:36c5        a271            LDX         #0x71                                   
rom:36c7        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:36ca        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36cd        206335          JSR         step_2_clocks                           ;+1
rom:36d0        a22b            LDX         #0x2b                                   
rom:36d2        208c32          JSR         delay_x10us                             ;undefined delay_x10us()
rom:36d5        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36d8        8d0101          STA         STACK:STEP_SEQR_CLK                     ;-0.5
rom:36db        204835          JSR         toggle_direction                        ;undefined toggle_direction()
rom:36de        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_36df()
                                                          ;XREF[1,0]:   35ce
rom:36df        201737          JSR         FUN_3717                                ;undefined FUN_3717()
rom:36e2        8a              TXA                                                 
rom:36e3        0a              ASL         A                                       
rom:36e4        a8              TAY                                                 
rom:36e5        20ee3a          JSR         fullstepmode_load_alt_ringdata          ;undefined fullstepmode_load_alt_ring...
rom:36e8        a964            LDA         #0x64                                   
rom:36ea        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:36ec        a900            LDA         #0x0                                    
rom:36ee        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:36f0        c712            SMB         #0x4,ZERO_PAGE:INT_ENABLES              ;counter A underflow flag
rom:36f2        58              CLI                                                 
rom:36f3        b9c33e          LDA         DAT_3ec3,Y                              
rom:36f6        0a              ASL         A                                       
rom:36f7        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:36f9        b9c43e          LDA         DAT_3ec4,Y                              
rom:36fc        2a              ROL         A                                       
rom:36fd        8519            STA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:36ff        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3701        d006            BNE         LAB_3709                                
rom:3703        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:3705        c90f            CMP         #0xf                                    
rom:3707        9004            BCC         LAB_370d                                
                            LAB_3709:                     ;XREF[1,0]:   3701
rom:3709        a901            LDA         #0x1                                    
rom:370b        855b            STA         regs:triple_step_in_timer_irq           ;= ??
                            LAB_370d:                     ;XREF[1,0]:   3707
rom:370d        a900            LDA         #0x0                                    
rom:370f        855b            STA         regs:triple_step_in_timer_irq           ;= ??
rom:3711        20d73b          JSR         wait_for_counta_underflow               ;undefined wait_for_counta_underflow()
rom:3714        4ccc32          JMP         LAB_32cc                                
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3717()
                                                          ;XREF[2,0]:   35c8,36df
rom:3717        38              SEC                                                 
rom:3718        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:371a        e901            SBC         #0x1                                    
rom:371c        aa              TAX                                                 
rom:371d        bdc43d          LDA         DAT_3dc4,X                              
rom:3720        854c            STA         regs:DAT_004c                           ;= ??
rom:3722        bd6f3d          LDA         DAT_3d6f,X                              
rom:3725        854b            STA         regs:DAT_004b                           ;= ??
rom:3727        38              SEC                                                 
rom:3728        ad9a3c          LDA         DAT_3c9a                                ;= 3Ch
rom:372b        e54b            SBC         regs:DAT_004b                           ;= ??
rom:372d        8550            STA         regs:official_cur_track_hi              ;= ??
rom:372f        0650            ASL         regs:official_cur_track_hi              ;= ??
rom:3731        18              CLC                                                 
rom:3732        a9fc            LDA         #0xfc                                   
rom:3734        6550            ADC         regs:official_cur_track_hi              ;= ??
rom:3736        8547            STA         regs:DAT_0047                           ;= ??
rom:3738        a93b            LDA         #0x3b                                   
rom:373a        6900            ADC         #0x0                                    
rom:373c        8548            STA         regs:DAT_0047+1                         
rom:373e        a900            LDA         #0x0                                    
rom:3740        8542            STA         regs:DAT_0042                           ;= ??
rom:3742        8543            STA         regs:DAT_0043                           ;= ??
rom:3744        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3745()
                                                          ;XREF[2,0]:   3365,35bb
rom:3745        a9fc            LDA         #0xfc                                   
rom:3747        8547            STA         regs:DAT_0047                           ;= ??
rom:3749        a93b            LDA         #0x3b                                   
rom:374b        8548            STA         regs:DAT_0047+1                         
rom:374d        ad9a3c          LDA         DAT_3c9a                                ;= 3Ch
rom:3750        854b            STA         regs:DAT_004b                           ;= ??
rom:3752        ad9b3c          LDA         DAT_3c9b                                ;= 12h
rom:3755        854c            STA         regs:DAT_004c                           ;= ??
rom:3757        38              SEC                                                 
rom:3758        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:375a        ed9c3c          SBC         DAT_3c9c                                ;= 52h
rom:375d        8543            STA         regs:DAT_0043                           ;= ??
rom:375f        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3761        e900            SBC         #0x0                                    
rom:3763        8542            STA         regs:DAT_0042                           ;= ??
rom:3765        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined update_track0_signal_question()
                                                          ;XREF[3,0]:   319b,326d,37ad
rom:3766        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:3768        0541            ORA         regs:unofficial_cur_track_lo            ;= ??
rom:376a        d005            BNE         curtrack_nonzero                        
rom:376c        0701            RMB         #0x0,ZERO_PAGE:PORTB                    ;= ??
rom:376e        4c7337          JMP         load_bcount_en_int                      ;undefined load_bcount_en_int()
                            curtrack_nonzero:             ;XREF[1,0]:   376a
rom:3771        8701            SMB         #0x0,ZERO_PAGE:PORTB                    ;= ??
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined load_bcount_en_int()
                                                          ;XREF[3,0]:   30e4,3237,376e
rom:3773        a900            LDA         #0x0                                    
rom:3775        855f            STA         regs:enable_timera_uf_int               ;= ??
rom:3777        851c            STA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:3779        851e            STA         ZERO_PAGE:BCOUNT_L                      ;= ??
rom:377b        a9fe            LDA         #0xfe                                   
rom:377d        851c            STA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:377f        a9ff            LDA         #0xff                                   
rom:3781        851d            STA         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:3783        d712            SMB         #0x5,ZERO_PAGE:INT_ENABLES              ;= ??
rom:3785        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3786()
                                                          ;XREF[1,0]:   3274
rom:3786        a54f            LDA         regs:DAT_004f                           ;= ??
rom:3788        d027            BNE         finalize_seek_completed                 
rom:378a        38              SEC                                                 
                            ;************************************************************************************************
                            ;*                           768-nonfinal_cur_track -> ringcal_track                            *
                            ;************************************************************************************************
rom:378b        a98e            LDA         #142                                    
rom:378d        e541            SBC         regs:unofficial_cur_track_lo            ;= ??
rom:378f        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3791        a903            LDA         #3                                      ;768
rom:3793        e540            SBC         regs:unofficial_cur_track_hi            ;= ??
rom:3795        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3797        38              SEC                                                 
rom:3798        a95a            LDA         #90                                     ;90
rom:379a        e546            SBC         regs:temp_trackcount_lo                 ;= ??
rom:379c        a900            LDA         #0x0                                    
rom:379e        e545            SBC         regs:temp_trackcount_hi                 ;= ??
rom:37a0        900f            BCC         finalize_seek_completed                 
rom:37a2        a9ff            LDA         #0xff                                   
rom:37a4        854f            STA         regs:DAT_004f                           ;= ??
rom:37a6        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:37a8        f007            BEQ         finalize_seek_completed                 
rom:37aa        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
rom:37ad        206637          JSR         update_track0_signal_question           ;undefined update_track0_signal_quest...
rom:37b0        58              CLI                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined finalize_seek_completed()
                                                          ;XREF[5,0]:   30e7,323a,3788,37a0,37a8
rom:37b1        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:37b3        8551            STA         regs:official_cur_track_lo              ;= ??
rom:37b5        a540            LDA         regs:unofficial_cur_track_hi            ;= ??
rom:37b7        8550            STA         regs:official_cur_track_hi              ;= ??
rom:37b9        200b39          JSR         set_write_current                       ;undefined set_write_current()
rom:37bc        1700            RMB         #0x1,0x0=>ZERO_PAGE:PORTA               ;We are ready now.
rom:37be        a900            LDA         #0x0                                    
rom:37c0        855d            STA         regs:fullstep_mode_question             ;= ??
rom:37c2        8d0701          STA         STACK:MCU_SEEK_COMPLETE                 ;Trigger seek completed signal on MFM...
rom:37c5        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined ringout_cal_or_set_stepper_volt()
                                                          ;XREF[4,0]:   3271,34af,3945,3aea
rom:37c6        a561            LDA         regs:ringout_flag_just_set_voltage      ;= ??
rom:37c8        f01b            BEQ         do_ringout_procedure                    
rom:37ca        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:37cc        d006            BNE         nonzero_hitrack                         
rom:37ce        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:37d0        c901            CMP         #0x1                                    
rom:37d2        f003            BEQ         ringcal_track1                          
                            ;************************************************************************************************
                            ;*  Basic routine just sets the stepper voltage,                                                *
                            ;*   waits, and bails                                                                           *
                            ;************************************************************************************************
                            nonzero_hitrack:              ;XREF[1,0]:   37cc
rom:37d4        200035          JSR         set_stepper_volt_6_3V                   ;undefined set_stepper_volt_6_3V()
                            ringcal_track1:               ;XREF[1,0]:   37d2
rom:37d7        207a32          JSR         delay_3ms                               ;undefined delay_3ms()
rom:37da        20f834          JSR         set_stepper_volt_3_75V                  ;undefined set_stepper_volt_3_75V()
rom:37dd        a014            LDY         #0x14                                   
rom:37df        208032          JSR         delay_y_ms                              ;20ms
rom:37e2        4ce938          JMP         bail                                    
                            ;************************************************************************************************
                            ;*  Check current track and figure out                                                          *
                            ;*  what phase to monitor on the ring                                                           *
                            ;*  LSI.                                                                                        *
                            ;************************************************************************************************
                            do_ringout_procedure:         ;XREF[1,0]:   37c8
rom:37e5        c701            SMB         #0x4,ZERO_PAGE:PORTB                    ;S1=1, disables phase D
rom:37e7        a541            LDA         regs:unofficial_cur_track_lo            ;= ??
rom:37e9        2907            AND         #0x7                                    ;just want bits 0,1,2
rom:37eb        f8              SED                                                 ;decimal mode!
rom:37ec        18              CLC                                                 
rom:37ed        3f4102          BBR         #0x3,regs:unofficia...,LAB_37f2         ;= ??
rom:37f0        6908            ADC         #0x8                                    ;add 8 (dec) if we have 8
                            LAB_37f2:                     ;XREF[1,0]:   37ed
rom:37f2        4f4102          BBR         #0x4,regs:unofficia...,LAB_37f7         ;= ??
rom:37f5        6906            ADC         #0x6                                    
                            LAB_37f7:                     ;XREF[1,0]:   37f2
rom:37f7        5f4102          BBR         #0x5,regs:unofficia...,LAB_37fc         ;= ??
rom:37fa        6902            ADC         #0x2                                    
                            LAB_37fc:                     ;XREF[1,0]:   37f7
rom:37fc        6f4102          BBR         #0x6,regs:unofficia...,LAB_3801         ;= ??
rom:37ff        6904            ADC         #0x4                                    
                            LAB_3801:                     ;XREF[1,0]:   37fc
rom:3801        7f4102          BBR         #0x7,regs:unofficia...,LAB_3806         ;= ??
rom:3804        6908            ADC         #0x8                                    
                            LAB_3806:                     ;XREF[1,0]:   3801
rom:3806        0f4002          BBR         #0x0,regs:unofficia...,LAB_380b         ;= ??
rom:3809        6906            ADC         #0x6                                    
                            LAB_380b:                     ;XREF[1,0]:   3806
rom:380b        1f4002          BBR         #0x1,regs:unofficia...,LAB_3810         ;= ??
rom:380e        6902            ADC         #0x2                                    
                            LAB_3810:                     ;XREF[1,0]:   380b
rom:3810        2f4002          BBR         #0x2,regs:unofficia...,LAB_3815         ;= ??
rom:3813        6904            ADC         #0x4                                    
                            LAB_3815:                     ;XREF[1,0]:   3810
rom:3815        d8              CLD                                                 
rom:3816        290f            AND         #0xf                                    ;Track MOD 10
rom:3818        a8              TAY                                                 
                            ;MSB is 0, so this is the ring mux setting
rom:3819        b9ef3e          LDA         stepper_ring_mux_table,Y                ;data table
rom:381c        856f            STA         regs:ring_lsi_byte                      ;= ??
rom:381e        201035          JSR         write_ring_lsi                          ;undefined write_ring_lsi()
rom:3821        a900            LDA         #0x0                                    
rom:3823        8568            STA         regs:ring_edge_count                    ;= ??
                            ;************************************************************************************************
                            ;*  if ringcal_track_lo=0 and ringcal_track_hi=1 then                                           *
                            ;*  we skip the 6.3V ringout.                                                                   *
                            ;************************************************************************************************
rom:3825        a545            LDA         regs:temp_trackcount_hi                 ;= ??
rom:3827        d00d            BNE         ringcal_track_not_001                   
rom:3829        a546            LDA         regs:temp_trackcount_lo                 ;= ??
rom:382b        c901            CMP         #0x1                                    
rom:382d        d007            BNE         ringcal_track_not_001                   
rom:382f        a575            LDA         regs:track1_step_flag_question          ;= ??
rom:3831        d003            BNE         ringcal_track_not_001                   
rom:3833        4c6f38          JMP         ringcal_track_is_100                    
                            ringcal_track_not_001:        ;XREF[3,0]:   3827,382d,3831
rom:3836        200035          JSR         set_stepper_volt_6_3V                   ;undefined set_stepper_volt_6_3V()
rom:3839        a9ff            LDA         #0xff                                   
rom:383b        855a            STA         regs:ringout_manual_timeout             ;= ??
rom:383d        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:383f        bf0010          BBS         #0x3,0x0=>ZERO_PAGE...,ring_output_is...;check RING output
                            ring_wait_for_high:           ;XREF[2,0]:   384d,386c
rom:3842        ea              NOP                                                 
rom:3843        ea              NOP                                                 
rom:3844        38              SEC                                                 
rom:3845        a55a            LDA         regs:ringout_manual_timeout             ;= ??
rom:3847        e901            SBC         #0x1                                    
rom:3849        855a            STA         regs:ringout_manual_timeout             ;= ??
rom:384b        f031            BEQ         ringout_completed                       
rom:384d        3f00f2          BBR         #0x3,0x0=>ZERO_PAGE...,ring_wait_for_...;check RING output
rom:3850        e668            INC         regs:ring_edge_count                    ;= ??
                            ring_output_is_high:          ;XREF[1,0]:   383f
rom:3852        ada13c          LDA         DAT_3ca1                                ;= 88h
rom:3855        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3857        ada23c          LDA         DAT_3ca2                                ;= 13h
rom:385a        851a            STA         ZERO_PAGE:ACOUNT_L                      ;5000=2.5ms
                            ring_wait_for_low:            ;XREF[1,0]:   3867
rom:385c        ea              NOP                                                 
rom:385d        ea              NOP                                                 
rom:385e        38              SEC                                                 
rom:385f        a55a            LDA         regs:ringout_manual_timeout             ;= ??
rom:3861        e901            SBC         #0x1                                    
rom:3863        855a            STA         regs:ringout_manual_timeout             ;= ??
rom:3865        f017            BEQ         ringout_completed                       
rom:3867        bf00f2          BBS         #0x3,0x0=>ZERO_PAGE...,ring_wait_for_low
rom:386a        e668            INC         regs:ring_edge_count                    ;= ??
rom:386c        4c4238          JMP         ring_wait_for_high                      
                            ringcal_track_is_100:         ;XREF[1,0]:   3833
rom:386f        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;clear counter A
rom:3871        ada13c          LDA         DAT_3ca1                                ;= 88h
rom:3874        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3876        ada23c          LDA         DAT_3ca2                                ;= 13h
rom:3879        851a            STA         ZERO_PAGE:ACOUNT_L                      ;timer is 5000(2.5ms)
rom:387b        4c8538          JMP         LAB_3885                                
                            ringout_completed:            ;XREF[2,0]:   384b,3865
rom:387e        20f834          JSR         set_stepper_volt_3_75V                  ;undefined set_stepper_volt_3_75V()
rom:3881        a568            LDA         regs:ring_edge_count                    ;= ??
rom:3883        f04a            BEQ         zero_ringcount                          
                            LAB_3885:                     ;XREF[1,0]:   387b
rom:3885        3f0010          BBR         #0x3,0x0=>ZERO_PAGE...,no_ringout_pulse 
                            wait_ring_to_go_low:          ;XREF[3,0]:   388b,38b9,38c8
rom:3888        cf1140          BBS         #0x4,ZERO_PAGE:INT_...,ring_never_wen...;= ??
rom:388b        bf00fa          BBS         #0x3,0x0=>ZERO_PAGE...,wait_ring_to_g...
rom:388e        a519            LDA         ZERO_PAGE:ACOUNT_H                      ;= ??
rom:3890        8573            STA         regs:ring_time_3_75V_hi                 ;= ??
rom:3892        a51a            LDA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:3894        8574            STA         regs:ring_time_3_75V_lo                 ;= ??
rom:3896        e668            INC         regs:ring_edge_count                    ;= ??
                            no_ringout_pulse:             ;XREF[1,0]:   3885
rom:3898        a9b0            LDA         #0xb0                                   
rom:389a        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:389c        a936            LDA         #0x36                                   ;timer=14000(7ms)
rom:389e        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
                            wait_ring_to_go_high:         ;XREF[1,0]:   38a3
rom:38a0        cf112c          BBS         #0x4,ZERO_PAGE:INT_FLAGS,zero_ringcount ;= ??
rom:38a3        3f00fa          BBR         #0x3,0x0=>ZERO_PAGE...,wait_ring_to_g...
rom:38a6        38              SEC                                                 
rom:38a7        a51a            LDA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:38a9        e958            SBC         #0x58                                   
rom:38ab        a519            LDA         ZERO_PAGE:ACOUNT_H                      ;subtract 13400 from measurement
rom:38ad        e934            SBC         #0x34                                   ;(6.7ms)
rom:38af        900b            BCC         gt_than_6_7ms                           
rom:38b1        a574            LDA         regs:ring_time_3_75V_lo                 ;= ??
rom:38b3        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:38b5        a573            LDA         regs:ring_time_3_75V_hi                 ;= ??
rom:38b7        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:38b9        4c8838          JMP         wait_ring_to_go_low                     
                            gt_than_6_7ms:                ;XREF[1,0]:   38af
rom:38bc        e668            INC         regs:ring_edge_count                    ;= ??
rom:38be        ada13c          LDA         DAT_3ca1                                ;= 88h
rom:38c1        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;5000(2.5ms)
rom:38c3        ada23c          LDA         DAT_3ca2                                ;= 13h
rom:38c6        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:38c8        4c8838          JMP         wait_ring_to_go_low                     
                            ring_never_went_low:          ;XREF[1,0]:   3888
rom:38cb        a568            LDA         regs:ring_edge_count                    ;= ??
rom:38cd        d012            BNE         nonzero_ring_edge_count                 
                            zero_ringcount:               ;XREF[2,0]:   3883,38a0
rom:38cf        a572            LDA         regs:ringout_result_question            ;= ??
rom:38d1        c901            CMP         #0x1                                    
rom:38d3        f014            BEQ         bail                                    
rom:38d5        a902            LDA         #0x2                                    
rom:38d7        8572            STA         regs:ringout_result_question            ;= ??
rom:38d9        a028            LDY         #0x28                                   
rom:38db        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:38de        4ce938          JMP         bail                                    
                            nonzero_ring_edge_count:      ;XREF[1,0]:   38cd
rom:38e1        a900            LDA         #0x0                                    
rom:38e3        8572            STA         regs:ringout_result_question            ;= ??
rom:38e5        a568            LDA         regs:ring_edge_count                    ;= ??
rom:38e7        8565            STA         regs:ringout_ring_count                 ;= ??
                            bail:                         ;XREF[3,0]:   37e2,38d3,38de
rom:38e9        4701            RMB         #0x4,ZERO_PAGE:PORTB                    ;S1=0
rom:38eb        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                Code fragment never referenced                                *
                            ;************************************************************************************************
rom:38ec        e668            INC         regs:ring_edge_count                    ;= ??
rom:38ee        3710            RMB         #0x3,ZERO_PAGE:CLRINT                   ;= ??
rom:38f0        ada13c          LDA         DAT_3ca1                                ;= 88h
rom:38f3        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:38f5        ada23c          LDA         DAT_3ca2                                ;= 13h
rom:38f8        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:38fa        60              RTS                                                 
rom:38fb        a568            LDA         regs:ring_edge_count                    ;= ??
rom:38fd        f00b            BEQ         LAB_390a                                
rom:38ff        cf1108          BBS         #0x4,ZERO_PAGE:INT_FLAGS,LAB_390a       ;= ??
rom:3902        a9ff            LDA         #0xff                                   
rom:3904        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3906        a9ff            LDA         #0xff                                   
rom:3908        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
                            LAB_390a:                     ;XREF[2,0]:   38fd,38ff
rom:390a        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined set_write_current()
                                                          ;XREF[2,0]:   31b8,37b9
rom:390b        5757            RMB         #0x5,regs:EXT_PORT_SHAD                 ;RIWR1=0
rom:390d        6757            RMB         #0x6,regs:EXT_PORT_SHAD                 ;RIWR2=0
rom:390f        20c93b          JSR         sub_205_track_count                     ;undefined sub_205_track_count()
rom:3912        900e            BCC         LAB_3922                                
rom:3914        20c93b          JSR         sub_205_track_count                     ;undefined sub_205_track_count()
rom:3917        9007            BCC         LAB_3920                                
rom:3919        e757            SMB         #0x6,regs:EXT_PORT_SHAD                 ;RIWR2=1
rom:391b        20c93b          JSR         sub_205_track_count                     ;undefined sub_205_track_count()
rom:391e        9002            BCC         LAB_3922                                
                            LAB_3920:                     ;XREF[1,0]:   3917
rom:3920        d757            SMB         #0x5,regs:EXT_PORT_SHAD                 ;RIWR1=1
                            LAB_3922:                     ;XREF[2,0]:   3912,391e
rom:3922        205235          JSR         upd_ext_port                            ;undefined upd_ext_port()
rom:3925        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined just_rts()
                                                          ;XREF[1,0]:   3214
rom:3926        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined wiggle_to_plus_0_5_w_delay()
                                                          ;XREF[3,0]:   3930,3933,3936
rom:3927        20af36          JSR         wiggle_to_plus_0_5                      ;undefined wiggle_to_plus_0_5()
rom:392a        a007            LDY         #0x7                                    
rom:392c        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:392f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                      Unused code below                                       *
                            ;************************************************************************************************
rom:3930        202739          JSR         wiggle_to_plus_0_5_w_delay              ;undefined wiggle_to_plus_0_5_w_delay()
rom:3933        202739          JSR         wiggle_to_plus_0_5_w_delay              ;undefined wiggle_to_plus_0_5_w_delay()
rom:3936        202739          JSR         wiggle_to_plus_0_5_w_delay              ;undefined wiggle_to_plus_0_5_w_delay()
rom:3939        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined stepminushalf_ringcal_3v75()
                                                          ;XREF[4,0]:   3949,394c,3a22,3a28
rom:393a        a901            LDA         #0x1                                    
rom:393c        8546            STA         regs:temp_trackcount_lo                 ;= ??
                            ;skips the 6.3V ring cal, just does 3.75V
rom:393e        a900            LDA         #0x0                                    
rom:3940        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3942        200636          JSR         bounce_minus_halftrack                  ;undefined bounce_minus_halftrack()
rom:3945        20c637          JSR         ringout_cal_or_set_stepper_volt         ;undefined ringout_cal_or_set_stepper...
rom:3948        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined stepminus1_cal()
                                                          ;XREF[7,0]:   39e7,39f2,39fd,3a00,3a0d,3a59,3ad9
rom:3949        203a39          JSR         stepminushalf_ringcal_3v75              ;undefined stepminushalf_ringcal_3v75()
rom:394c        203a39          JSR         stepminushalf_ringcal_3v75              ;undefined stepminushalf_ringcal_3v75()
rom:394f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined find_track_index_pulse()
                                                          ;XREF[1,0]:   39d7
rom:3950        a00a            LDY         #10                                     
rom:3952        a20a            LDX         #10                                     
                            ;8000. at 0.5us/clk=4ms
rom:3954        a940            LDA         #0x40                                   
rom:3956        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3958        a91f            LDA         #0x1f                                   
rom:395a        851a            STA         ZERO_PAGE:ACOUNT_L                      ;start timer
rom:395c        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
                            no_underflow:                 ;XREF[1,0]:   3972
rom:395e        2f1108          BBR         #0x2,ZERO_PAGE:INT_FLAGS,no_pa2_negedge ;= ??
rom:3961        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
rom:3963        ca              DEX                                                 ;decr. remaining edge cnt
rom:3964        d003            BNE         no_pa2_negedge                          
rom:3966        18              CLC                                                 
rom:3967        900f            BCC         bail                                    
                            no_pa2_negedge:               ;XREF[2,0]:   395e,3964
rom:3969        2f0006          BBR         #0x2,0x0=>ZERO_PAGE:PORTA,pa2_is_low    
rom:396c        88              DEY                                                 
rom:396d        d003            BNE         pa2_is_low                              
rom:396f        18              CLC                                                 
rom:3970        9006            BCC         bail                                    
                            pa2_is_low:                   ;XREF[2,0]:   3969,396d
rom:3972        4f11e9          BBR         #0x4,ZERO_PAGE:INT_FLAGS,no_underflow   ;= ??
rom:3975        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3977        38              SEC                                                 
                            bail:                         ;XREF[2,0]:   3967,3970
rom:3978        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined measure_index_track_12ms()
                                                          ;XREF[1,0]:   39dc
rom:3979        a01e            LDY         #0x1e                                   
rom:397b        a21e            LDX         #0x1e                                   
                            ;24000 = 12ms
rom:397d        a9c0            LDA         #0xc0                                   
rom:397f        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3981        a95d            LDA         #0x5d                                   
rom:3983        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
rom:3985        4c9439          JMP         LAB_3994                                
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined measure_index_track_16ms()
                                                          ;XREF[2,0]:   39ea,3a03
rom:3988        a028            LDY         #0x28                                   
rom:398a        a228            LDX         #0x28                                   
                            ;32000 = 16ms
rom:398c        a900            LDA         #0x0                                    
rom:398e        8518            STA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3990        a97d            LDA         #0x7d                                   
rom:3992        851a            STA         ZERO_PAGE:ACOUNT_L                      ;= ??
                            LAB_3994:                     ;XREF[1,0]:   3985
rom:3994        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
                            LAB_3996:                     ;XREF[1,0]:   39aa
rom:3996        2f1108          BBR         #0x2,ZERO_PAGE:INT_FLAGS,LAB_39a1       ;= ??
rom:3999        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
rom:399b        ca              DEX                                                 
rom:399c        d003            BNE         LAB_39a1                                
rom:399e        18              CLC                                                 
rom:399f        900f            BCC         LAB_39b0                                
                            LAB_39a1:                     ;XREF[2,0]:   3996,399c
rom:39a1        af0006          BBS         #0x2,0x0=>ZERO_PAGE:PORTA,LAB_39aa      
rom:39a4        88              DEY                                                 
rom:39a5        d003            BNE         LAB_39aa                                
rom:39a7        18              CLC                                                 
rom:39a8        9006            BCC         LAB_39b0                                
                            LAB_39aa:                     ;XREF[2,0]:   39a1,39a5
rom:39aa        4f11e9          BBR         #0x4,ZERO_PAGE:INT_FLAGS,LAB_3996       ;= ??
rom:39ad        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:39af        38              SEC                                                 
                            LAB_39b0:                     ;XREF[2,0]:   399f,39a8
rom:39b0        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined look_for_track_index_signal()
                                                          ;XREF[2,0]:   3a1a,3a2b
rom:39b1        a017            LDY         #23                                     
rom:39b3        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;clear pa2 neg edge det irq
                            waitloop2:                    ;XREF[1,0]:   39be
rom:39b5        a2c8            LDX         #200                                    
                            waitloop:                     ;XREF[3,0]:   39bb,39c7,39d4
rom:39b7        af1109          BBS         #0x2,ZERO_PAGE:INT_FLAGS,PA2_FALL       ;pa2 negedge detected
rom:39ba        ca              DEX                                                 
rom:39bb        d0fa            BNE         waitloop                                
rom:39bd        88              DEY                                                 
rom:39be        d0f5            BNE         waitloop2                               
rom:39c0        18              CLC                                                 
rom:39c1        901c            BCC         pa2_neverfell                           
                            PA2_FALL:                     ;XREF[1,0]:   39b7
rom:39c3        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
rom:39c5        a20a            LDX         #10                                     
                            waitloop3:                    ;XREF[1,0]:   39ce
rom:39c7        af00ed          BBS         #0x2,0x0=>ZERO_PAGE:PORTA,waitloop      ;glitch? rose too early
rom:39ca        af1105          BBS         #0x2,ZERO_PAGE:INT_FLAGS,foundedge      ;= ??
rom:39cd        ca              DEX                                                 
rom:39ce        d0f7            BNE         waitloop3                               
rom:39d0        f005            BEQ         noedge                                  
                            foundedge:                    ;XREF[1,0]:   39ca
rom:39d2        2710            RMB         #0x2,ZERO_PAGE:CLRINT                   ;= ??
rom:39d4        4cb739          JMP         waitloop                                
                            noedge:                       ;XREF[1,0]:   39d0
rom:39d7        205039          JSR         find_track_index_pulse                  ;undefined find_track_index_pulse()
rom:39da        9003            BCC         pa2_neverfell                           ;measure_pulses failed if carry clear
rom:39dc        207939          JSR         measure_index_track_12ms                ;undefined measure_index_track_12ms()
                            pa2_neverfell:                ;XREF[2,0]:   39c1,39da
rom:39df        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_find_16ms_guardband()
                                                          ;XREF[3,0]:   3a63,3a70,3a7d
rom:39e0        a902            LDA         #0x2                                    
rom:39e2        8558            STA         regs:step_cal_retval                    ;= ??
rom:39e4        203c35          JSR         set_dir_inwards                         ;undefined set_dir_inwards()
rom:39e7        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:39ea        208839          JSR         measure_index_track_16ms                ;undefined measure_index_track_16ms()
rom:39ed        b009            BCS         LAB_39f8                                
rom:39ef        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:39f2        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:39f5        4c133a          JMP         LAB_3a13                                
                            LAB_39f8:                     ;XREF[1,0]:   39ed
rom:39f8        c658            DEC         regs:step_cal_retval                    ;= ??
rom:39fa        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:39fd        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:3a00        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:3a03        208839          JSR         measure_index_track_16ms                ;undefined measure_index_track_16ms()
rom:3a06        9002            BCC         LAB_3a0a                                
rom:3a08        c658            DEC         regs:step_cal_retval                    ;= ??
                            LAB_3a0a:                     ;XREF[1,0]:   3a06
rom:3a0a        203c35          JSR         set_dir_inwards                         ;undefined set_dir_inwards()
rom:3a0d        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:3a10        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
                            LAB_3a13:                     ;XREF[1,0]:   39f5
rom:3a13        a558            LDA         regs:step_cal_retval                    ;= ??
rom:3a15        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                             Index track is located at track -1.                              *
                            ;************************************************************************************************
                            ;undefined step_and_find_index_track()
                                                          ;XREF[4,0]:   3a5e,3a6b,3a78,3ab4
rom:3a16        a900            LDA         #0x0                                    
rom:3a18        8558            STA         regs:step_cal_retval                    ;= ??
rom:3a1a        20b139          JSR         look_for_track_index_signal             ;undefined look_for_track_index_signal()
rom:3a1d        901d            BCC         LAB_3a3c                                
rom:3a1f        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:3a22        203a39          JSR         stepminushalf_ringcal_3v75              ;undefined stepminushalf_ringcal_3v75()
rom:3a25        203c35          JSR         set_dir_inwards                         ;undefined set_dir_inwards()
rom:3a28        203a39          JSR         stepminushalf_ringcal_3v75              ;undefined stepminushalf_ringcal_3v75()
rom:3a2b        20b139          JSR         look_for_track_index_signal             ;undefined look_for_track_index_signal()
rom:3a2e        900c            BCC         LAB_3a3c                                
rom:3a30        a00f            LDY         #0xf                                    
rom:3a32        208032          JSR         delay_y_ms                              ;15ms
rom:3a35        2700            RMB         #0x2,0x0=>ZERO_PAGE:PORTA               
rom:3a37        8d0501          STA         STACK:RESET_STEP_SEQR                   ;Reset step sequencer to phase 0
rom:3a3a        e658            INC         regs:step_cal_retval                    ;= ??
                            LAB_3a3c:                     ;XREF[2,0]:   3a1d,3a2e
rom:3a3c        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:3a3f        a558            LDA         regs:step_cal_retval                    ;= ??
rom:3a41        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined align_to_track0()
                                                          ;XREF[3,0]:   308e,30d9,3232
rom:3a42        a901            LDA         #0x1                                    
rom:3a44        8561            STA         regs:ringout_flag_just_set_voltage      ;= ??
rom:3a46        a901            LDA         #0x1                                    
rom:3a48        855f            STA         regs:enable_timera_uf_int               ;= ??
rom:3a4a        5712            RMB         #0x5,ZERO_PAGE:INT_ENABLES              ;disable countb underflow
rom:3a4c        8701            SMB         #0x0,ZERO_PAGE:PORTB                    ;STEP LOGIC 2B.5
rom:3a4e        20b334          JSR         index_recal_locks_index                 ;undefined index_recal_locks_index()
rom:3a51        207e32          JSR         delay_40ms                              ;undefined delay_40ms()
rom:3a54        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
rom:3a56        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:3a59        204939          JSR         stepminus1_cal                          ;+1 track (inwards)
rom:3a5c        a700            SMB         #0x2,0x0=>ZERO_PAGE:PORTA               
rom:3a5e        20163a          JSR         step_and_find_index_track               ;undefined step_and_find_index_track()
rom:3a61        d025            BNE         LAB_3a88                                
rom:3a63        20e039          JSR         step_find_16ms_guardband                ;undefined step_find_16ms_guardband()
rom:3a66        f026            BEQ         guard_band_detected                     
rom:3a68        206d34          JSR         step_by_10_tracks                       ;undefined step_by_10_tracks()
rom:3a6b        20163a          JSR         step_and_find_index_track               ;undefined step_and_find_index_track()
rom:3a6e        d018            BNE         LAB_3a88                                
rom:3a70        20e039          JSR         step_find_16ms_guardband                ;undefined step_find_16ms_guardband()
rom:3a73        f019            BEQ         guard_band_detected                     
rom:3a75        206d34          JSR         step_by_10_tracks                       ;undefined step_by_10_tracks()
rom:3a78        20163a          JSR         step_and_find_index_track               ;undefined step_and_find_index_track()
rom:3a7b        d00b            BNE         LAB_3a88                                
rom:3a7d        20e039          JSR         step_find_16ms_guardband                ;undefined step_find_16ms_guardband()
rom:3a80        f00c            BEQ         guard_band_detected                     
rom:3a82        20dd3a          JSR         data_recal_sequence                     ;undefined data_recal_sequence()
rom:3a85        4c913a          JMP         LAB_3a91                                
                            LAB_3a88:                     ;XREF[3,0]:   3a61,3a6e,3a7b
rom:3a88        20d63a          JSR         step_inwards                            ;undefined step_inwards()
rom:3a8b        4c913a          JMP         LAB_3a91                                
                            guard_band_detected:          ;XREF[3,0]:   3a66,3a73,3a80
rom:3a8e        20a03a          JSR         guard_band_recal_sequence               ;undefined guard_band_recal_sequence()
                            LAB_3a91:                     ;XREF[2,0]:   3a85,3a8b
rom:3a91        a900            LDA         #0x0                                    
rom:3a93        8540            STA         regs:unofficial_cur_track_hi            ;= ??
rom:3a95        8541            STA         regs:unofficial_cur_track_lo            ;= ??
rom:3a97        854f            STA         regs:DAT_004f                           ;= ??
rom:3a99        855c            STA         regs:DAT_005c                           ;= ??
rom:3a9b        8561            STA         regs:ringout_flag_just_set_voltage      ;= ??
rom:3a9d        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
rom:3a9f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined guard_band_recal_sequence()
                                                          ;XREF[1,0]:   3a8e
rom:3aa0        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
                            ;Step by 820 tracks outwards
rom:3aa2        205f34          JSR         set_step_direction                      ;undefined set_step_direction()
rom:3aa5        a934            LDA         #0x34                                   
rom:3aa7        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3aa9        a903            LDA         #0x3                                    
rom:3aab        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3aad        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
                            ;do index hunt 13 times
rom:3ab0        a914            LDA         #0x14                                   
rom:3ab2        8559            STA         regs:counter                            ;= ??
                            index_hunt:                   ;XREF[2,0]:   3ac1,3ae1
rom:3ab4        20163a          JSR         step_and_find_index_track               ;undefined step_and_find_index_track()
rom:3ab7        d01d            BNE         step_inwards                            
rom:3ab9        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:3abc        206d34          JSR         step_by_10_tracks                       ;undefined step_by_10_tracks()
rom:3abf        c659            DEC         regs:counter                            ;= ??
rom:3ac1        d0f1            BNE         index_hunt                              
rom:3ac3        a914            LDA         #0x14                                   
rom:3ac5        8559            STA         regs:counter                            ;= ??
                            LAB_3ac7:                     ;XREF[1,0]:   3acf
rom:3ac7        204235          JSR         set_dir_outwards                        ;undefined set_dir_outwards()
rom:3aca        207b34          JSR         do_20_softsteps                         ;undefined do_20_softsteps()
rom:3acd        c659            DEC         regs:counter                            ;= ??
rom:3acf        d0f6            BNE         LAB_3ac7                                
rom:3ad1        2700            RMB         #0x2,0x0=>ZERO_PAGE:PORTA               
rom:3ad3        8d0501          STA         STACK:RESET_STEP_SEQR                   ;= ??
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_inwards()
                                                          ;XREF[2,0]:   3a88,3ab7
rom:3ad6        203c35          JSR         set_dir_inwards                         ;undefined set_dir_inwards()
rom:3ad9        204939          JSR         stepminus1_cal                          ;undefined stepminus1_cal()
rom:3adc        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined data_recal_sequence()
                                                          ;XREF[1,0]:   3a82
rom:3add        a964            LDA         #100                                    
rom:3adf        8559            STA         regs:counter                            ;= ??
rom:3ae1        d0d1            BNE         guard_band_recal_sequence::index_hunt   
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined step_by_delta_plus_ring()
                                                          ;XREF[7,0]:   30a4,30ca,3477,37aa,3aad,3b15,3bb3
rom:3ae3        a900            LDA         #0x0                                    
rom:3ae5        8555            STA         regs:step_by_delta_flag_unk             ;= ??
rom:3ae7        206a35          JSR         step_by_delta                           ;undefined step_by_delta()
rom:3aea        20c637          JSR         ringout_cal_or_set_stepper_volt         ;undefined ringout_cal_or_set_stepper...
rom:3aed        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined fullstepmode_load_alt_ringdata()
                                                          ;XREF[3,0]:   3296,3639,36e5
rom:3aee        a757            SMB         #0x2,regs:EXT_PORT_SHAD                 ;= ??
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined halfstepmode_load_alt_step_volt()
                                                          ;XREF[1,0]:   3675
rom:3af0        3757            RMB         #0x3,regs:EXT_PORT_SHAD                 ;standard halfstep mode
rom:3af2        a557            LDA         regs:EXT_PORT_SHAD                      ;= ??
rom:3af4        8d0001          STA         STACK:EXT_PORT                          ;= ??
rom:3af7        200835          JSR         use_alt_stepper_voltage                 ;undefined use_alt_stepper_voltage()
rom:3afa        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined do_four_ringouts()
                                                          ;XREF[1,0]:   3b7a
rom:3afb        a900            LDA         #0x0                                    
rom:3afd        8564            STA         regs:total_ring_count_accum             ;= ??
rom:3aff        8569            STA         regs:DAT_0069                           ;= ??
rom:3b01        a904            LDA         #0x4                                    
rom:3b03        8566            STA         regs:ringout_counter                    ;= ??
rom:3b05        0744            RMB         #0x0,regs:step_inwards_flag             ;= ??
                            ringout_loop:                 ;XREF[1,0]:   3b26
rom:3b07        a544            LDA         regs:step_inwards_flag                  ;= ??
rom:3b09        4901            EOR         #0x1                                    
rom:3b0b        8544            STA         regs:step_inwards_flag                  ;= ??
rom:3b0d        a964            LDA         #100                                    
rom:3b0f        8546            STA         regs:temp_trackcount_lo                 ;100 tracks?
rom:3b11        a900            LDA         #0x0                                    
rom:3b13        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3b15        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
rom:3b18        18              CLC                                                 
rom:3b19        a564            LDA         regs:total_ring_count_accum             ;= ??
rom:3b1b        6565            ADC         regs:ringout_ring_count                 ;= ??
rom:3b1d        8564            STA         regs:total_ring_count_accum             ;= ??
rom:3b1f        a00a            LDY         #0xa                                    
rom:3b21        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:3b24        c666            DEC         regs:ringout_counter                    ;= ??
rom:3b26        d0df            BNE         ringout_loop                            
rom:3b28        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined stepper_voltage_cal()
                                                          ;XREF[1,0]:   30a7
rom:3b29        a901            LDA         #0x1                                    
rom:3b2b        8572            STA         regs:ringout_result_question            ;= ??
rom:3b2d        a9e5            LDA         #0xe5                                   
rom:3b2f        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3b31        a9fa            LDA         #250                                    
rom:3b33        856d            STA         regs:DAT_006d                           ;= ??
rom:3b35        a902            LDA         #0x2                                    
rom:3b37        8550            STA         regs:official_cur_track_hi              ;= ??
rom:3b39        20703b          JSR         adjust_stepper_voltage                  ;undefined adjust_stepper_voltage()
rom:3b3c        a901            LDA         #0x1                                    
rom:3b3e        8550            STA         regs:official_cur_track_hi              ;= ??
rom:3b40        a56c            LDA         regs:saved_stepper_voltage              ;= ??
rom:3b42        c9e5            CMP         #229                                    
rom:3b44        f012            BEQ         no_stepper_v_adjust                     
rom:3b46        c9fa            CMP         #250                                    
rom:3b48        f019            BEQ         LAB_3b63                                
rom:3b4a        38              SEC                                                 
rom:3b4b        e901            SBC         #0x1                                    ;subtract 1 from this to drop the vol...
rom:3b4d        856c            STA         regs:saved_stepper_voltage              ;= ??
rom:3b4f        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3b51        18              CLC                                                 
rom:3b52        6902            ADC         #0x2                                    
rom:3b54        856d            STA         regs:DAT_006d                           ;= ??
rom:3b56        d014            BNE         LAB_3b6c                                
                            no_stepper_v_adjust:          ;XREF[1,0]:   3b44
rom:3b58        a56c            LDA         regs:saved_stepper_voltage              ;= ??
rom:3b5a        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3b5c        18              CLC                                                 
rom:3b5d        6901            ADC         #0x1                                    
rom:3b5f        856d            STA         regs:DAT_006d                           ;= ??
rom:3b61        d009            BNE         LAB_3b6c                                
                            LAB_3b63:                     ;XREF[1,0]:   3b48
rom:3b63        a56c            LDA         regs:saved_stepper_voltage              ;= ??
rom:3b65        856d            STA         regs:DAT_006d                           ;= ??
rom:3b67        38              SEC                                                 
rom:3b68        e901            SBC         #0x1                                    
rom:3b6a        856e            STA         regs:current_stepper_voltage            ;= ??
                            LAB_3b6c:                     ;XREF[2,0]:   3b56,3b61
rom:3b6c        20703b          JSR         adjust_stepper_voltage                  ;undefined adjust_stepper_voltage()
rom:3b6f        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined adjust_stepper_voltage()
                                                          ;XREF[2,0]:   3b39,3b6c
rom:3b70        a901            LDA         #0x1                                    
rom:3b72        856a            STA         regs:DAT_006a                           ;= ??
rom:3b74        a9ff            LDA         #0xff                                   
rom:3b76        8567            STA         regs:DAT_0067                           ;= ??
                            LAB_3b78:                     ;XREF[1,0]:   3b9d
rom:3b78        a56e            LDA         regs:current_stepper_voltage            ;= ??
rom:3b7a        20fb3a          JSR         do_four_ringouts                        ;undefined do_four_ringouts()
rom:3b7d        a567            LDA         regs:DAT_0067                           ;= ??
rom:3b7f        c564            CMP         regs:total_ring_count_accum             ;= ??
rom:3b81        f006            BEQ         LAB_3b89                                
rom:3b83        9008            BCC         LAB_3b8d                                
rom:3b85        a56e            LDA         regs:current_stepper_voltage            ;= ??
rom:3b87        856c            STA         regs:saved_stepper_voltage              ;= ??
                            LAB_3b89:                     ;XREF[1,0]:   3b81
rom:3b89        a564            LDA         regs:total_ring_count_accum             ;= ??
rom:3b8b        8567            STA         regs:DAT_0067                           ;= ??
                            LAB_3b8d:                     ;XREF[1,0]:   3b83
rom:3b8d        a56e            LDA         regs:current_stepper_voltage            ;= ??
rom:3b8f        18              CLC                                                 
rom:3b90        6550            ADC         regs:official_cur_track_hi              ;= ??
rom:3b92        c56d            CMP         regs:DAT_006d                           ;= ??
rom:3b94        f005            BEQ         LAB_3b9b                                
rom:3b96        9003            BCC         LAB_3b9b                                
rom:3b98        4ca03b          JMP         LAB_3ba0                                
                            LAB_3b9b:                     ;XREF[2,0]:   3b94,3b96
rom:3b9b        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3b9d        4c783b          JMP         LAB_3b78                                
                            LAB_3ba0:                     ;XREF[1,0]:   3b98
rom:3ba0        a56c            LDA         regs:saved_stepper_voltage              ;= ??
rom:3ba2        856e            STA         regs:current_stepper_voltage            ;= ??
rom:3ba4        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined shoeshine_seek()
                                                          ;XREF[5,0]:   3091,3094,30d3,30dc,30df
rom:3ba5        a544            LDA         regs:step_inwards_flag                  ;= ??
rom:3ba7        4901            EOR         #0x1                                    
rom:3ba9        8544            STA         regs:step_inwards_flag                  ;= ??
rom:3bab        a970            LDA         #0x70                                   
rom:3bad        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3baf        a903            LDA         #0x3                                    
rom:3bb1        8545            STA         regs:temp_trackcount_hi                 ;880 tracks
rom:3bb3        20e33a          JSR         step_by_delta_plus_ring                 ;undefined step_by_delta_plus_ring()
rom:3bb6        a014            LDY         #0x14                                   
rom:3bb8        208032          JSR         delay_y_ms                              ;undefined delay_y_ms()
rom:3bbb        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined FUN_3bbc()
                                                          ;XREF[1,0]:   31d0
rom:3bbc        a51d            LDA         ZERO_PAGE:BCOUNT_H                      ;= ??
rom:3bbe        49ff            EOR         #0xff                                   
rom:3bc0        8545            STA         regs:temp_trackcount_hi                 ;= ??
rom:3bc2        a51c            LDA         ZERO_PAGE:BCOUNT_LC                     ;= ??
rom:3bc4        49ff            EOR         #0xff                                   
rom:3bc6        8546            STA         regs:temp_trackcount_lo                 ;= ??
rom:3bc8        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined sub_205_track_count()
                                                          ;XREF[3,0]:   390f,3914,391b
rom:3bc9        38              SEC                                                 
rom:3bca        a551            LDA         regs:official_cur_track_lo              ;= ??
rom:3bcc        e9cd            SBC         #205                                    
rom:3bce        8551            STA         regs:official_cur_track_lo              ;= ??
rom:3bd0        a550            LDA         regs:official_cur_track_hi              ;= ??
rom:3bd2        e900            SBC         #0x0                                    
rom:3bd4        8550            STA         regs:official_cur_track_hi              ;= ??
rom:3bd6        60              RTS                                                 
                            ;************************************************************************************************
                            ;*                                           FUNCTION                                           *
                            ;************************************************************************************************
                            ;undefined wait_for_counta_underflow()
                                                          ;XREF[6,0]:   339c,33b2,3447,3452,3458,3711
rom:3bd7        a900            LDA         #0x0                                    
rom:3bd9        855e            STA         regs:timera_uf_flag                     ;= ??
rom:3bdb        58              CLI                                                 
                            waitloop:                     ;XREF[1,0]:   3be2
rom:3bdc        ea              NOP                                                 
rom:3bdd        ea              NOP                                                 
rom:3bde        ea              NOP                                                 
rom:3bdf        ea              NOP                                                 
rom:3be0        a55e            LDA         regs:timera_uf_flag                     ;= ??
rom:3be2        f0f8            BEQ         waitloop                                
rom:3be4        a518            LDA         ZERO_PAGE:ACOUNT_LC                     ;= ??
rom:3be6        78              SEI                                                 
rom:3be7        60              RTS                                                 
                            delay_table:                  ;XREF[2,0]:   3489,349a
rom:3be8        06              ??          06h                                     
rom:3be9        42              ??          42h    B                                
rom:3bea        10              ??          10h                                     
rom:3beb        38              ??          38h    8                                
rom:3bec        06              ??          06h                                     
rom:3bed        10              ??          10h                                     
rom:3bee        06              ??          06h                                     
rom:3bef        10              ??          10h                                     
rom:3bf0        0b              ??          0Bh                                     
rom:3bf1        0b              ??          0Bh                                     
rom:3bf2        0b              ??          0Bh                                     
rom:3bf3        0b              ??          0Bh                                     
rom:3bf4        10              ??          10h                                     
rom:3bf5        06              ??          06h                                     
rom:3bf6        1a              ??          1Ah                                     
rom:3bf7        06              ??          06h                                     
rom:3bf8        42              ??          42h    B                                
rom:3bf9        10              ??          10h                                     
                            DAT_3bfa:                     ;XREF[1,0]:   349a
rom:3bfa        4c              undefined1  4Ch                                     
                            DAT_3bfb:                     ;XREF[1,0]:   3489
rom:3bfb        09              undefined1  09h                                     
rom:3bfc        79              ??          79h    y                                
rom:3bfd        00              ??          00h                                     
rom:3bfe        63              ??          63h    c                                
rom:3bff        00              ??          00h                                     
rom:3c00        5e              ??          5Eh    ^                                
rom:3c01        00              ??          00h                                     
rom:3c02        5e              ??          5Eh    ^                                
rom:3c03        00              ??          00h                                     
rom:3c04        5b              ??          5Bh    [                                
rom:3c05        00              ??          00h                                     
rom:3c06        5b              ??          5Bh    [                                
rom:3c07        00              ??          00h                                     
rom:3c08        5b              ??          5Bh    [                                
rom:3c09        00              ??          00h                                     
rom:3c0a        5b              ??          5Bh    [                                
rom:3c0b        00              ??          00h                                     
rom:3c0c        5c              ??          5Ch    \                                
rom:3c0d        00              ??          00h                                     
rom:3c0e        5d              ??          5Dh    ]                                
rom:3c0f        00              ??          00h                                     
rom:3c10        5d              ??          5Dh    ]                                
rom:3c11        00              ??          00h                                     
rom:3c12        5e              ??          5Eh    ^                                
rom:3c13        00              ??          00h                                     
rom:3c14        5f              ??          5Fh    _                                
rom:3c15        00              ??          00h                                     
rom:3c16        5f              ??          5Fh    _                                
rom:3c17        00              ??          00h                                     
rom:3c18        60              ??          60h    `                                
rom:3c19        00              ??          00h                                     
rom:3c1a        60              ??          60h    `                                
rom:3c1b        00              ??          00h                                     
rom:3c1c        61              ??          61h    a                                
rom:3c1d        00              ??          00h                                     
rom:3c1e        62              ??          62h    b                                
rom:3c1f        00              ??          00h                                     
rom:3c20        63              ??          63h    c                                
rom:3c21        00              ??          00h                                     
rom:3c22        64              ??          64h    d                                
rom:3c23        00              ??          00h                                     
rom:3c24        64              ??          64h    d                                
rom:3c25        00              ??          00h                                     
rom:3c26        65              ??          65h    e                                
rom:3c27        00              ??          00h                                     
rom:3c28        65              ??          65h    e                                
rom:3c29        00              ??          00h                                     
rom:3c2a        65              ??          65h    e                                
rom:3c2b        00              ??          00h                                     
rom:3c2c        66              ??          66h    f                                
rom:3c2d        00              ??          00h                                     
rom:3c2e        66              ??          66h    f                                
rom:3c2f        00              ??          00h                                     
rom:3c30        67              ??          67h    g                                
rom:3c31        00              ??          00h                                     
rom:3c32        69              ??          69h    i                                
rom:3c33        00              ??          00h                                     
rom:3c34        6a              ??          6Ah    j                                
rom:3c35        00              ??          00h                                     
rom:3c36        6b              ??          6Bh    k                                
rom:3c37        00              ??          00h                                     
rom:3c38        6b              ??          6Bh    k                                
rom:3c39        00              ??          00h                                     
rom:3c3a        6c              ??          6Ch    l                                
rom:3c3b        00              ??          00h                                     
rom:3c3c        6e              ??          6Eh    n                                
rom:3c3d        00              ??          00h                                     
rom:3c3e        70              ??          70h    p                                
rom:3c3f        00              ??          00h                                     
rom:3c40        72              ??          72h    r                                
rom:3c41        00              ??          00h                                     
rom:3c42        72              ??          72h    r                                
rom:3c43        00              ??          00h                                     
rom:3c44        73              ??          73h    s                                
rom:3c45        00              ??          00h                                     
rom:3c46        75              ??          75h    u                                
rom:3c47        00              ??          00h                                     
rom:3c48        77              ??          77h    w                                
rom:3c49        00              ??          00h                                     
rom:3c4a        78              ??          78h    x                                
rom:3c4b        00              ??          00h                                     
rom:3c4c        7a              ??          7Ah    z                                
rom:3c4d        00              ??          00h                                     
rom:3c4e        7b              ??          7Bh    {                                
rom:3c4f        00              ??          00h                                     
rom:3c50        7c              ??          7Ch    |                                
rom:3c51        00              ??          00h                                     
rom:3c52        7e              ??          7Eh    ~                                
rom:3c53        00              ??          00h                                     
rom:3c54        80              ??          80h                                     
rom:3c55        00              ??          00h                                     
rom:3c56        83              ??          83h                                     
rom:3c57        00              ??          00h                                     
rom:3c58        86              ??          86h                                     
rom:3c59        00              ??          00h                                     
rom:3c5a        8a              ??          8Ah                                     
rom:3c5b        00              ??          00h                                     
rom:3c5c        90              ??          90h                                     
rom:3c5d        00              ??          00h                                     
rom:3c5e        95              ??          95h                                     
rom:3c5f        00              ??          00h                                     
rom:3c60        97              ??          97h                                     
rom:3c61        00              ??          00h                                     
rom:3c62        9d              ??          9Dh                                     
rom:3c63        00              ??          00h                                     
rom:3c64        a2              ??          A2h                                     
rom:3c65        00              ??          00h                                     
rom:3c66        a7              ??          A7h                                     
rom:3c67        00              ??          00h                                     
rom:3c68        ad              ??          ADh                                     
rom:3c69        00              ??          00h                                     
rom:3c6a        ba              ??          BAh                                     
rom:3c6b        00              ??          00h                                     
rom:3c6c        c7              ??          C7h                                     
rom:3c6d        00              ??          00h                                     
rom:3c6e        ef              ??          EFh                                     
rom:3c6f        00              ??          00h                                     
rom:3c70        53              ??          53h    S                                
rom:3c71        01              ??          01h                                     
rom:3c72        d3              ??          D3h                                     
rom:3c73        02              ??          02h                                     
rom:3c74        7c              ??          7Ch    |                                
rom:3c75        01              ??          01h                                     
rom:3c76        f0              ??          F0h                                     
rom:3c77        00              ??          00h                                     
rom:3c78        d2              ??          D2h                                     
rom:3c79        00              ??          00h                                     
rom:3c7a        bd              ??          BDh                                     
rom:3c7b        00              ??          00h                                     
rom:3c7c        a8              ??          A8h                                     
rom:3c7d        00              ??          00h                                     
rom:3c7e        9a              ??          9Ah                                     
rom:3c7f        00              ??          00h                                     
rom:3c80        90              ??          90h                                     
rom:3c81        00              ??          00h                                     
rom:3c82        8c              ??          8Ch                                     
rom:3c83        00              ??          00h                                     
rom:3c84        86              ??          86h                                     
rom:3c85        00              ??          00h                                     
rom:3c86        82              ??          82h                                     
rom:3c87        00              ??          00h                                     
rom:3c88        7a              ??          7Ah    z                                
rom:3c89        00              ??          00h                                     
rom:3c8a        76              ??          76h    v                                
rom:3c8b        00              ??          00h                                     
rom:3c8c        70              ??          70h    p                                
rom:3c8d        00              ??          00h                                     
rom:3c8e        6b              ??          6Bh    k                                
rom:3c8f        00              ??          00h                                     
rom:3c90        68              ??          68h    h                                
rom:3c91        00              ??          00h                                     
rom:3c92        63              ??          63h    c                                
rom:3c93        00              ??          00h                                     
rom:3c94        64              ??          64h    d                                
rom:3c95        00              ??          00h                                     
rom:3c96        64              ??          64h    d                                
rom:3c97        00              ??          00h                                     
                            DAT_3c98:                     ;XREF[1,0]:   32f9
rom:3c98        59              undefined1  59h                                     
                            DAT_3c99:                     ;XREF[1,0]:   32ff
rom:3c99        00              undefined1  00h                                     
                            DAT_3c9a:                     ;XREF[4,0]:   33ce,33fb,3728,374d
rom:3c9a        3c              undefined1  3Ch                                     
                            DAT_3c9b:                     ;XREF[2,0]:   3400,3752
rom:3c9b        12              undefined1  12h                                     
                            DAT_3c9c:                     ;XREF[3,0]:   32e8,3408,375a
rom:3c9c        52              undefined1  52h                                     
                            DAT_3c9d:                     ;XREF[1,0]:   3390
rom:3c9d        eb              undefined1  EBh                                     
                            DAT_3c9e:                     ;XREF[1,0]:   3396
rom:3c9e        00              undefined1  00h                                     
                            DAT_3c9f:                     ;XREF[1,0]:   343b
rom:3c9f        ff              undefined1  FFh                                     
                            DAT_3ca0:                     ;XREF[1,0]:   3441
rom:3ca0        02              undefined1  02h                                     
                            DAT_3ca1:                     ;XREF[4,0]:   3852,3871,38be,38f0
rom:3ca1        88              undefined1  88h                                     
                            DAT_3ca2:                     ;XREF[4,0]:   3857,3876,38c3,38f5
rom:3ca2        13              undefined1  13h                                     
rom:3ca3        70              ??          70h    p                                
rom:3ca4        17              ??          17h                                     
rom:3ca5        e8              ??          E8h                                     
rom:3ca6        fd              ??          FDh                                     
                            DAT_3ca7:                     ;XREF[1,0]:   3384
rom:3ca7        00              ??          00h                                     
                            DAT_3ca8:                     ;XREF[1,0]:   338a
rom:3ca8        00              ??          00h                                     
rom:3ca9        00              ??          00h                                     
rom:3caa        00              ??          00h                                     
rom:3cab        f2              ??          F2h                                     
rom:3cac        03              ??          03h                                     
rom:3cad        d9              ??          D9h                                     
rom:3cae        03              ??          03h                                     
rom:3caf        93              ??          93h                                     
rom:3cb0        03              ??          03h                                     
rom:3cb1        e8              ??          E8h                                     
rom:3cb2        03              ??          03h                                     
rom:3cb3        84              ??          84h                                     
rom:3cb4        03              ??          03h                                     
rom:3cb5        9d              ??          9Dh                                     
rom:3cb6        03              ??          03h                                     
rom:3cb7        ac              ??          ACh                                     
rom:3cb8        03              ??          03h                                     
rom:3cb9        8e              ??          8Eh                                     
rom:3cba        03              ??          03h                                     
rom:3cbb        d9              ??          D9h                                     
rom:3cbc        03              ??          03h                                     
rom:3cbd        89              ??          89h                                     
rom:3cbe        03              ??          03h                                     
rom:3cbf        84              ??          84h                                     
rom:3cc0        03              ??          03h                                     
rom:3cc1        93              ??          93h                                     
rom:3cc2        03              ??          03h                                     
rom:3cc3        7b              ??          7Bh    {                                
rom:3cc4        02              ??          02h                                     
rom:3cc5        80              ??          80h                                     
rom:3cc6        02              ??          02h                                     
rom:3cc7        44              ??          44h    D                                
rom:3cc8        02              ??          02h                                     
rom:3cc9        3a              ??          3Ah    :                                
rom:3cca        02              ??          02h                                     
rom:3ccb        35              ??          35h    5                                
rom:3ccc        02              ??          02h                                     
rom:3ccd        3f              ??          3Fh    ?                                
rom:3cce        02              ??          02h                                     
rom:3ccf        49              ??          49h    I                                
rom:3cd0        02              ??          02h                                     
rom:3cd1        08              ??          08h                                     
rom:3cd2        02              ??          02h                                     
rom:3cd3        08              ??          08h                                     
rom:3cd4        02              ??          02h                                     
rom:3cd5        12              ??          12h                                     
rom:3cd6        02              ??          02h                                     
rom:3cd7        1c              ??          1Ch                                     
rom:3cd8        02              ??          02h                                     
rom:3cd9        f4              ??          F4h                                     
rom:3cda        01              ??          01h                                     
rom:3cdb        ef              ??          EFh                                     
rom:3cdc        01              ??          01h                                     
rom:3cdd        f4              ??          F4h                                     
rom:3cde        01              ??          01h                                     
rom:3cdf        f4              ??          F4h                                     
rom:3ce0        01              ??          01h                                     
rom:3ce1        e0              ??          E0h                                     
rom:3ce2        01              ??          01h                                     
rom:3ce3        db              ??          DBh                                     
rom:3ce4        01              ??          01h                                     
rom:3ce5        d6              ??          D6h                                     
rom:3ce6        01              ??          01h                                     
rom:3ce7        d6              ??          D6h                                     
rom:3ce8        01              ??          01h                                     
rom:3ce9        d6              ??          D6h                                     
rom:3cea        01              ??          01h                                     
rom:3ceb        bd              ??          BDh                                     
rom:3cec        01              ??          01h                                     
rom:3ced        b8              ??          B8h                                     
rom:3cee        01              ??          01h                                     
rom:3cef        b8              ??          B8h                                     
rom:3cf0        01              ??          01h                                     
rom:3cf1        b3              ??          B3h                                     
rom:3cf2        01              ??          01h                                     
rom:3cf3        9f              ??          9Fh                                     
rom:3cf4        01              ??          01h                                     
rom:3cf5        9a              ??          9Ah                                     
rom:3cf6        01              ??          01h                                     
rom:3cf7        9a              ??          9Ah                                     
rom:3cf8        01              ??          01h                                     
rom:3cf9        95              ??          95h                                     
rom:3cfa        01              ??          01h                                     
rom:3cfb        90              ??          90h                                     
rom:3cfc        01              ??          01h                                     
rom:3cfd        86              ??          86h                                     
rom:3cfe        01              ??          01h                                     
rom:3cff        81              ??          81h                                     
rom:3d00        01              ??          01h                                     
rom:3d01        7c              ??          7Ch    |                                
rom:3d02        01              ??          01h                                     
rom:3d03        7c              ??          7Ch    |                                
rom:3d04        01              ??          01h                                     
rom:3d05        77              ??          77h    w                                
rom:3d06        01              ??          01h                                     
rom:3d07        6d              ??          6Dh    m                                
rom:3d08        01              ??          01h                                     
rom:3d09        72              ??          72h    r                                
rom:3d0a        01              ??          01h                                     
rom:3d0b        72              ??          72h    r                                
rom:3d0c        01              ??          01h                                     
rom:3d0d        68              ??          68h    h                                
rom:3d0e        01              ??          01h                                     
rom:3d0f        63              ??          63h    c                                
rom:3d10        01              ??          01h                                     
rom:3d11        5e              ??          5Eh    ^                                
rom:3d12        01              ??          01h                                     
rom:3d13        5e              ??          5Eh    ^                                
rom:3d14        01              ??          01h                                     
rom:3d15        59              ??          59h    Y                                
rom:3d16        01              ??          01h                                     
rom:3d17        54              ??          54h    T                                
rom:3d18        01              ??          01h                                     
rom:3d19        4f              ??          4Fh    O                                
rom:3d1a        01              ??          01h                                     
rom:3d1b        4a              ??          4Ah    J                                
rom:3d1c        01              ??          01h                                     
rom:3d1d        45              ??          45h    E                                
rom:3d1e        01              ??          01h                                     
rom:3d1f        45              ??          45h    E                                
rom:3d20        01              ??          01h                                     
rom:3d21        40              ??          40h    @                                
rom:3d22        01              ??          01h                                     
rom:3d23        40              ??          40h    @                                
rom:3d24        01              ??          01h                                     
rom:3d25        3b              ??          3Bh    ;                                
rom:3d26        01              ??          01h                                     
rom:3d27        36              ??          36h    6                                
rom:3d28        01              ??          01h                                     
rom:3d29        36              ??          36h    6                                
rom:3d2a        01              ??          01h                                     
rom:3d2b        31              ??          31h    1                                
rom:3d2c        01              ??          01h                                     
rom:3d2d        2c              ??          2Ch    ,                                
rom:3d2e        01              ??          01h                                     
rom:3d2f        2c              ??          2Ch    ,                                
rom:3d30        01              ??          01h                                     
rom:3d31        2c              ??          2Ch    ,                                
rom:3d32        01              ??          01h                                     
rom:3d33        2c              ??          2Ch    ,                                
rom:3d34        01              ??          01h                                     
rom:3d35        27              ??          27h    '                                
rom:3d36        01              ??          01h                                     
rom:3d37        22              ??          22h    "                                
rom:3d38        01              ??          01h                                     
rom:3d39        1d              ??          1Dh                                     
rom:3d3a        01              ??          01h                                     
rom:3d3b        1d              ??          1Dh                                     
rom:3d3c        01              ??          01h                                     
rom:3d3d        18              ??          18h                                     
rom:3d3e        01              ??          01h                                     
rom:3d3f        18              ??          18h                                     
rom:3d40        01              ??          01h                                     
rom:3d41        0e              ??          0Eh                                     
rom:3d42        01              ??          01h                                     
rom:3d43        09              ??          09h                                     
rom:3d44        01              ??          01h                                     
rom:3d45        09              ??          09h                                     
rom:3d46        01              ??          01h                                     
rom:3d47        ff              ??          FFh                                     
rom:3d48        00              ??          00h                                     
rom:3d49        e1              ??          E1h                                     
rom:3d4a        00              ??          00h                                     
rom:3d4b        e1              ??          E1h                                     
rom:3d4c        00              ??          00h                                     
rom:3d4d        f0              ??          F0h                                     
rom:3d4e        00              ??          00h                                     
rom:3d4f        f0              ??          F0h                                     
rom:3d50        00              ??          00h                                     
rom:3d51        f0              ??          F0h                                     
rom:3d52        00              ??          00h                                     
rom:3d53        f0              ??          F0h                                     
rom:3d54        00              ??          00h                                     
rom:3d55        f0              ??          F0h                                     
rom:3d56        00              ??          00h                                     
rom:3d57        f0              ??          F0h                                     
rom:3d58        00              ??          00h                                     
rom:3d59        f0              ??          F0h                                     
rom:3d5a        00              ??          00h                                     
rom:3d5b        f0              ??          F0h                                     
rom:3d5c        00              ??          00h                                     
rom:3d5d        f0              ??          F0h                                     
rom:3d5e        00              ??          00h                                     
rom:3d5f        f0              ??          F0h                                     
rom:3d60        00              ??          00h                                     
rom:3d61        f0              ??          F0h                                     
rom:3d62        00              ??          00h                                     
rom:3d63        f0              ??          F0h                                     
rom:3d64        00              ??          00h                                     
rom:3d65        f0              ??          F0h                                     
rom:3d66        00              ??          00h                                     
rom:3d67        f0              ??          F0h                                     
rom:3d68        00              ??          00h                                     
rom:3d69        f0              ??          F0h                                     
rom:3d6a        00              ??          00h                                     
rom:3d6b        f0              ??          F0h                                     
rom:3d6c        00              ??          00h                                     
rom:3d6d        f0              ??          F0h                                     
rom:3d6e        00              ??          00h                                     
                            DAT_3d6f:                     ;XREF[2,0]:   33c8,3722
rom:3d6f        00              ??          00h                                     
rom:3d70        01              ??          01h                                     
rom:3d71        01              ??          01h                                     
rom:3d72        01              ??          01h                                     
rom:3d73        02              ??          02h                                     
rom:3d74        02              ??          02h                                     
rom:3d75        03              ??          03h                                     
rom:3d76        04              ??          04h                                     
rom:3d77        04              ??          04h                                     
rom:3d78        05              ??          05h                                     
rom:3d79        05              ??          05h                                     
rom:3d7a        06              ??          06h                                     
rom:3d7b        07              ??          07h                                     
rom:3d7c        08              ??          08h                                     
rom:3d7d        07              ??          07h                                     
rom:3d7e        08              ??          08h                                     
rom:3d7f        08              ??          08h                                     
rom:3d80        09              ??          09h                                     
rom:3d81        0a              ??          0Ah                                     
rom:3d82        0b              ??          0Bh                                     
rom:3d83        0c              ??          0Ch                                     
rom:3d84        0c              ??          0Ch                                     
rom:3d85        0d              ??          0Dh                                     
rom:3d86        0e              ??          0Eh                                     
rom:3d87        0f              ??          0Fh                                     
rom:3d88        0f              ??          0Fh                                     
rom:3d89        10              ??          10h                                     
rom:3d8a        11              ??          11h                                     
rom:3d8b        12              ??          12h                                     
rom:3d8c        12              ??          12h                                     
rom:3d8d        13              ??          13h                                     
rom:3d8e        14              ??          14h                                     
rom:3d8f        15              ??          15h                                     
rom:3d90        16              ??          16h                                     
rom:3d91        16              ??          16h                                     
rom:3d92        17              ??          17h                                     
rom:3d93        18              ??          18h                                     
rom:3d94        19              ??          19h                                     
rom:3d95        19              ??          19h                                     
rom:3d96        1a              ??          1Ah                                     
rom:3d97        1b              ??          1Bh                                     
rom:3d98        1c              ??          1Ch                                     
rom:3d99        1c              ??          1Ch                                     
rom:3d9a        1d              ??          1Dh                                     
rom:3d9b        1e              ??          1Eh                                     
rom:3d9c        1f              ??          1Fh                                     
rom:3d9d        1f              ??          1Fh                                     
rom:3d9e        20              ??          20h                                     
rom:3d9f        21              ??          21h    !                                
rom:3da0        22              ??          22h    "                                
rom:3da1        23              ??          23h    #                                
rom:3da2        23              ??          23h    #                                
rom:3da3        24              ??          24h    $                                
rom:3da4        25              ??          25h    %                                
rom:3da5        26              ??          26h    &                                
rom:3da6        27              ??          27h    '                                
rom:3da7        27              ??          27h    '                                
rom:3da8        28              ??          28h    (                                
rom:3da9        29              ??          29h    )                                
rom:3daa        2a              ??          2Ah    *                                
rom:3dab        2b              ??          2Bh    +                                
rom:3dac        2b              ??          2Bh    +                                
rom:3dad        2c              ??          2Ch    ,                                
rom:3dae        2d              ??          2Dh    -                                
rom:3daf        2e              ??          2Eh    .                                
rom:3db0        2f              ??          2Fh    /                                
rom:3db1        30              ??          30h    0                                
rom:3db2        30              ??          30h    0                                
rom:3db3        31              ??          31h    1                                
rom:3db4        32              ??          32h    2                                
rom:3db5        33              ??          33h    3                                
rom:3db6        34              ??          34h    4                                
rom:3db7        34              ??          34h    4                                
rom:3db8        35              ??          35h    5                                
rom:3db9        36              ??          36h    6                                
rom:3dba        37              ??          37h    7                                
rom:3dbb        38              ??          38h    8                                
rom:3dbc        38              ??          38h    8                                
rom:3dbd        39              ??          39h    9                                
rom:3dbe        3a              ??          3Ah    :                                
rom:3dbf        3b              ??          3Bh    ;                                
rom:3dc0        3c              ??          3Ch    <                                
rom:3dc1        3c              ??          3Ch    <                                
rom:3dc2        3c              ??          3Ch    <                                
rom:3dc3        3c              ??          3Ch    <                                
                            DAT_3dc4:                     ;XREF[2,0]:   33c3,371d
rom:3dc4        00              ??          00h                                     
rom:3dc5        00              ??          00h                                     
rom:3dc6        00              ??          00h                                     
rom:3dc7        01              ??          01h                                     
rom:3dc8        01              ??          01h                                     
rom:3dc9        02              ??          02h                                     
rom:3dca        02              ??          02h                                     
rom:3dcb        02              ??          02h                                     
rom:3dcc        03              ??          03h                                     
rom:3dcd        03              ??          03h                                     
rom:3dce        04              ??          04h                                     
rom:3dcf        04              ??          04h                                     
rom:3dd0        04              ??          04h                                     
rom:3dd1        04              ??          04h                                     
rom:3dd2        04              ??          04h                                     
rom:3dd3        04              ??          04h                                     
rom:3dd4        05              ??          05h                                     
rom:3dd5        05              ??          05h                                     
rom:3dd6        05              ??          05h                                     
rom:3dd7        05              ??          05h                                     
rom:3dd8        05              ??          05h                                     
rom:3dd9        06              ??          06h                                     
rom:3dda        06              ??          06h                                     
rom:3ddb        06              ??          06h                                     
rom:3ddc        06              ??          06h                                     
rom:3ddd        07              ??          07h                                     
rom:3dde        07              ??          07h                                     
rom:3ddf        07              ??          07h                                     
rom:3de0        07              ??          07h                                     
rom:3de1        08              ??          08h                                     
rom:3de2        08              ??          08h                                     
rom:3de3        08              ??          08h                                     
rom:3de4        08              ??          08h                                     
rom:3de5        08              ??          08h                                     
rom:3de6        09              ??          09h                                     
rom:3de7        09              ??          09h                                     
rom:3de8        09              ??          09h                                     
rom:3de9        09              ??          09h                                     
rom:3dea        0a              ??          0Ah                                     
rom:3deb        0a              ??          0Ah                                     
rom:3dec        0a              ??          0Ah                                     
rom:3ded        0a              ??          0Ah                                     
rom:3dee        0b              ??          0Bh                                     
rom:3def        0b              ??          0Bh                                     
rom:3df0        0b              ??          0Bh                                     
rom:3df1        0b              ??          0Bh                                     
rom:3df2        0c              ??          0Ch                                     
rom:3df3        0c              ??          0Ch                                     
rom:3df4        0c              ??          0Ch                                     
rom:3df5        0c              ??          0Ch                                     
rom:3df6        0c              ??          0Ch                                     
rom:3df7        0d              ??          0Dh                                     
rom:3df8        0d              ??          0Dh                                     
rom:3df9        0d              ??          0Dh                                     
rom:3dfa        0d              ??          0Dh                                     
rom:3dfb        0d              ??          0Dh                                     
rom:3dfc        0e              ??          0Eh                                     
rom:3dfd        0e              ??          0Eh                                     
rom:3dfe        0e              ??          0Eh                                     
rom:3dff        0e              ??          0Eh                                     
rom:3e00        0e              ??          0Eh                                     
rom:3e01        0f              ??          0Fh                                     
rom:3e02        0f              ??          0Fh                                     
rom:3e03        0f              ??          0Fh                                     
rom:3e04        0f              ??          0Fh                                     
rom:3e05        0f              ??          0Fh                                     
rom:3e06        0f              ??          0Fh                                     
rom:3e07        10              ??          10h                                     
rom:3e08        10              ??          10h                                     
rom:3e09        10              ??          10h                                     
rom:3e0a        10              ??          10h                                     
rom:3e0b        10              ??          10h                                     
rom:3e0c        11              ??          11h                                     
rom:3e0d        11              ??          11h                                     
rom:3e0e        11              ??          11h                                     
rom:3e0f        11              ??          11h                                     
rom:3e10        11              ??          11h                                     
rom:3e11        12              ??          12h                                     
rom:3e12        12              ??          12h                                     
rom:3e13        12              ??          12h                                     
rom:3e14        12              ??          12h                                     
rom:3e15        12              ??          12h                                     
rom:3e16        12              ??          12h                                     
rom:3e17        12              ??          12h                                     
rom:3e18        12              ??          12h                                     
                            DAT_3e19:                     ;XREF[1,0]:   342f
rom:3e19        00              ??          00h                                     
                            DAT_3e1a:                     ;XREF[1,0]:   3435
rom:3e1a        00              ??          00h                                     
rom:3e1b        d6              ??          D6h                                     
rom:3e1c        06              ??          06h                                     
rom:3e1d        46              ??          46h    F                                
rom:3e1e        05              ??          05h                                     
rom:3e1f        b8              ??          B8h                                     
rom:3e20        06              ??          06h                                     
rom:3e21        64              ??          64h    d                                
rom:3e22        05              ??          05h                                     
rom:3e23        f4              ??          F4h                                     
rom:3e24        06              ??          06h                                     
rom:3e25        dc              ??          DCh                                     
rom:3e26        05              ??          05h                                     
rom:3e27        b0              ??          B0h                                     
rom:3e28        04              ??          04h                                     
rom:3e29        04              ??          04h                                     
rom:3e2a        06              ??          06h                                     
rom:3e2b        28              ??          28h    (                                
rom:3e2c        05              ??          05h                                     
rom:3e2d        7c              ??          7Ch    |                                
rom:3e2e        06              ??          06h                                     
rom:3e2f        78              ??          78h    x                                
rom:3e30        05              ??          05h                                     
rom:3e31        b0              ??          B0h                                     
rom:3e32        04              ??          04h                                     
rom:3e33        06              ??          06h                                     
rom:3e34        04              ??          04h                                     
rom:3e35        84              ??          84h                                     
rom:3e36        03              ??          03h                                     
rom:3e37        ee              ??          EEh                                     
rom:3e38        02              ??          02h                                     
rom:3e39        88              ??          88h                                     
rom:3e3a        04              ??          04h                                     
rom:3e3b        10              ??          10h                                     
rom:3e3c        04              ??          04h                                     
rom:3e3d        b6              ??          B6h                                     
rom:3e3e        03              ??          03h                                     
rom:3e3f        16              ??          16h                                     
rom:3e40        03              ??          03h                                     
rom:3e41        a8              ??          A8h                                     
rom:3e42        02              ??          02h                                     
rom:3e43        2e              ??          2Eh    .                                
rom:3e44        04              ??          04h                                     
rom:3e45        d4              ??          D4h                                     
rom:3e46        03              ??          03h                                     
rom:3e47        5c              ??          5Ch    \                                
rom:3e48        03              ??          03h                                     
rom:3e49        f8              ??          F8h                                     
rom:3e4a        02              ??          02h                                     
rom:3e4b        38              ??          38h    8                                
rom:3e4c        04              ??          04h                                     
rom:3e4d        e8              ??          E8h                                     
rom:3e4e        03              ??          03h                                     
rom:3e4f        ac              ??          ACh                                     
rom:3e50        03              ??          03h                                     
rom:3e51        5c              ??          5Ch    \                                
rom:3e52        03              ??          03h                                     
rom:3e53        6a              ??          6Ah    j                                
rom:3e54        04              ??          04h                                     
rom:3e55        fc              ??          FCh                                     
rom:3e56        03              ??          03h                                     
rom:3e57        c0              ??          C0h                                     
rom:3e58        03              ??          03h                                     
rom:3e59        66              ??          66h    f                                
rom:3e5a        03              ??          03h                                     
rom:3e5b        34              ??          34h    4                                
rom:3e5c        03              ??          03h                                     
rom:3e5d        10              ??          10h                                     
rom:3e5e        04              ??          04h                                     
rom:3e5f        b6              ??          B6h                                     
rom:3e60        03              ??          03h                                     
rom:3e61        84              ??          84h                                     
rom:3e62        03              ??          03h                                     
rom:3e63        34              ??          34h    4                                
rom:3e64        03              ??          03h                                     
rom:3e65        4c              ??          4Ch    L                                
rom:3e66        04              ??          04h                                     
rom:3e67        e8              ??          E8h                                     
rom:3e68        03              ??          03h                                     
rom:3e69        b6              ??          B6h                                     
rom:3e6a        03              ??          03h                                     
rom:3e6b        5c              ??          5Ch    \                                
rom:3e6c        03              ??          03h                                     
rom:3e6d        88              ??          88h                                     
rom:3e6e        04              ??          04h                                     
rom:3e6f        fc              ??          FCh                                     
rom:3e70        03              ??          03h                                     
rom:3e71        b6              ??          B6h                                     
rom:3e72        03              ??          03h                                     
rom:3e73        5c              ??          5Ch    \                                
rom:3e74        03              ??          03h                                     
rom:3e75        6a              ??          6Ah    j                                
rom:3e76        04              ??          04h                                     
rom:3e77        2e              ??          2Eh    .                                
rom:3e78        04              ??          04h                                     
rom:3e79        e8              ??          E8h                                     
rom:3e7a        03              ??          03h                                     
rom:3e7b        b6              ??          B6h                                     
rom:3e7c        03              ??          03h                                     
rom:3e7d        66              ??          66h    f                                
rom:3e7e        03              ??          03h                                     
rom:3e7f        2e              ??          2Eh    .                                
rom:3e80        04              ??          04h                                     
rom:3e81        de              ??          DEh                                     
rom:3e82        03              ??          03h                                     
rom:3e83        98              ??          98h                                     
rom:3e84        03              ??          03h                                     
rom:3e85        66              ??          66h    f                                
rom:3e86        03              ??          03h                                     
rom:3e87        34              ??          34h    4                                
rom:3e88        03              ??          03h                                     
rom:3e89        de              ??          DEh                                     
rom:3e8a        03              ??          03h                                     
rom:3e8b        98              ??          98h                                     
rom:3e8c        03              ??          03h                                     
rom:3e8d        7a              ??          7Ah    z                                
rom:3e8e        03              ??          03h                                     
rom:3e8f        52              ??          52h    R                                
rom:3e90        03              ??          03h                                     
rom:3e91        20              ??          20h                                     
rom:3e92        03              ??          03h                                     
rom:3e93        d4              ??          D4h                                     
rom:3e94        03              ??          03h                                     
rom:3e95        98              ??          98h                                     
rom:3e96        03              ??          03h                                     
rom:3e97        52              ??          52h    R                                
rom:3e98        03              ??          03h                                     
rom:3e99        34              ??          34h    4                                
rom:3e9a        03              ??          03h                                     
rom:3e9b        0c              ??          0Ch                                     
rom:3e9c        03              ??          03h                                     
rom:3e9d        e4              ??          E4h                                     
rom:3e9e        02              ??          02h                                     
rom:3e9f        70              ??          70h    p                                
rom:3ea0        03              ??          03h                                     
rom:3ea1        5c              ??          5Ch    \                                
rom:3ea2        03              ??          03h                                     
rom:3ea3        20              ??          20h                                     
rom:3ea4        03              ??          03h                                     
rom:3ea5        16              ??          16h                                     
rom:3ea6        03              ??          03h                                     
rom:3ea7        d0              ??          D0h                                     
rom:3ea8        02              ??          02h                                     
rom:3ea9        52              ??          52h    R                                
rom:3eaa        03              ??          03h                                     
rom:3eab        20              ??          20h                                     
rom:3eac        03              ??          03h                                     
rom:3ead        0c              ??          0Ch                                     
rom:3eae        03              ??          03h                                     
rom:3eaf        da              ??          DAh                                     
rom:3eb0        02              ??          02h                                     
rom:3eb1        bc              ??          BCh                                     
rom:3eb2        02              ??          02h                                     
rom:3eb3        34              ??          34h    4                                
rom:3eb4        03              ??          03h                                     
rom:3eb5        20              ??          20h                                     
rom:3eb6        03              ??          03h                                     
rom:3eb7        02              ??          02h                                     
rom:3eb8        03              ??          03h                                     
rom:3eb9        02              ??          02h                                     
rom:3eba        03              ??          03h                                     
rom:3ebb        02              ??          02h                                     
rom:3ebc        03              ??          03h                                     
rom:3ebd        02              ??          02h                                     
rom:3ebe        03              ??          03h                                     
rom:3ebf        02              ??          02h                                     
rom:3ec0        03              ??          03h                                     
rom:3ec1        02              ??          02h                                     
rom:3ec2        03              ??          03h                                     
                            DAT_3ec3:                     ;XREF[1,0]:   36f3
rom:3ec3        00              ??          00h                                     
                            DAT_3ec4:                     ;XREF[1,0]:   36f9
rom:3ec4        00              ??          00h                                     
rom:3ec5        9e              ??          9Eh                                     
rom:3ec6        04              ??          04h                                     
rom:3ec7        af              ??          AFh                                     
rom:3ec8        02              ??          02h                                     
rom:3ec9        1e              ??          1Eh                                     
rom:3eca        02              ??          02h                                     
rom:3ecb        0a              ??          0Ah                                     
rom:3ecc        02              ??          02h                                     
rom:3ecd        79              ??          79h    y                                
rom:3ece        01              ??          01h                                     
rom:3ecf        ec              ??          ECh                                     
rom:3ed0        01              ??          01h                                     
rom:3ed1        ec              ??          ECh                                     
rom:3ed2        01              ??          01h                                     
rom:3ed3        65              ??          65h    e                                
rom:3ed4        01              ??          01h                                     
rom:3ed5        ec              ??          ECh                                     
rom:3ed6        01              ??          01h                                     
rom:3ed7        18              ??          18h                                     
rom:3ed8        01              ??          01h                                     
rom:3ed9        ba              ??          BAh                                     
rom:3eda        01              ??          01h                                     
rom:3edb        05              ??          05h                                     
rom:3edc        02              ??          02h                                     
rom:3edd        46              ??          46h    F                                
rom:3ede        02              ??          02h                                     
rom:3edf        d3              ??          D3h                                     
rom:3ee0        02              ??          02h                                     
rom:3ee1        d3              ??          D3h                                     
rom:3ee2        02              ??          02h                                     
rom:3ee3        d3              ??          D3h                                     
rom:3ee4        02              ??          02h                                     
rom:3ee5        d3              ??          D3h                                     
rom:3ee6        02              ??          02h                                     
rom:3ee7        d3              ??          D3h                                     
rom:3ee8        02              ??          02h                                     
rom:3ee9        d3              ??          D3h                                     
rom:3eea        02              ??          02h                                     
rom:3eeb        d3              ??          D3h                                     
rom:3eec        02              ??          02h                                     
rom:3eed        d3              ??          D3h                                     
rom:3eee        02              ??          02h                                     
                            stepper_ring_mux_table:       ;XREF[1,0]:   3819
rom:3eef        00              ??          00h                                     
rom:3ef0        01              ??          01h                                     
rom:3ef1        02              ??          02h                                     
rom:3ef2        03              ??          03h                                     
rom:3ef3        04              ??          04h                                     
rom:3ef4        00              ??          00h                                     
rom:3ef5        01              ??          01h                                     
rom:3ef6        02              ??          02h                                     
rom:3ef7        03              ??          03h                                     
rom:3ef8        04              ??          04h                                     
rom:3ef9        00              ??          00h                                     
rom:3efa        00              ??          00h                                     
rom:3efb        00              ??          00h                                     
rom:3efc        00              ??          00h                                     
rom:3efd        00              ??          00h                                     
rom:3efe        00              ??          00h                                     
rom:3eff        00              ??          00h                                     
rom:3f00        00              ??          00h                                     
rom:3f01        00              ??          00h                                     
rom:3f02        00              ??          00h                                     
rom:3f03        00              ??          00h                                     
rom:3f04        00              ??          00h                                     
rom:3f05        00              ??          00h                                     
rom:3f06        00              ??          00h                                     
rom:3f07        00              ??          00h                                     
rom:3f08        00              ??          00h                                     
rom:3f09        00              ??          00h                                     
rom:3f0a        00              ??          00h                                     
rom:3f0b        00              ??          00h                                     
rom:3f0c        00              ??          00h                                     
rom:3f0d        00              ??          00h                                     
rom:3f0e        00              ??          00h                                     
rom:3f0f        00              ??          00h                                     
rom:3f10        00              ??          00h                                     
rom:3f11        00              ??          00h                                     
rom:3f12        00              ??          00h                                     
rom:3f13        00              ??          00h                                     
rom:3f14        00              ??          00h                                     
rom:3f15        00              ??          00h                                     
rom:3f16        00              ??          00h                                     
rom:3f17        00              ??          00h                                     
rom:3f18        00              ??          00h                                     
rom:3f19        00              ??          00h                                     
rom:3f1a        00              ??          00h                                     
rom:3f1b        00              ??          00h                                     
rom:3f1c        00              ??          00h                                     
rom:3f1d        00              ??          00h                                     
rom:3f1e        00              ??          00h                                     
rom:3f1f        00              ??          00h                                     
rom:3f20        00              ??          00h                                     
rom:3f21        00              ??          00h                                     
rom:3f22        00              ??          00h                                     
rom:3f23        00              ??          00h                                     
rom:3f24        00              ??          00h                                     
rom:3f25        00              ??          00h                                     
rom:3f26        79              ??          79h    y                                
rom:3f27        09              ??          09h                                     
rom:3f28        e0              ??          E0h                                     
rom:3f29        01              ??          01h                                     
rom:3f2a        00              ??          00h                                     
rom:3f2b        07              ??          07h                                     
rom:3f2c        3a              ??          3Ah    :                                
rom:3f2d        04              ??          04h                                     
rom:3f2e        00              ??          00h                                     
rom:3f2f        0c              ??          0Ch                                     
rom:3f30        b0              ??          B0h                                     
rom:3f31        af              ??          AFh                                     
rom:3f32        18              ??          18h                                     
rom:3f33        0f              ??          0Fh                                     
rom:3f34        e0              ??          E0h                                     
rom:3f35        bf              ??          BFh                                     
rom:3f36        3c              ??          3Ch    <                                
rom:3f37        01              ??          01h                                     
rom:3f38        e0              ??          E0h                                     
rom:3f39        01              ??          01h                                     
rom:3f3a        e0              ??          E0h                                     
rom:3f3b        0c              ??          0Ch                                     
rom:3f3c        e0              ??          E0h                                     
rom:3f3d        09              ??          09h                                     
rom:3f3e        00              ??          00h                                     
rom:3f3f        45              ??          45h    E                                
rom:3f40        e0              ??          E0h                                     
rom:3f41        ed              ??          EDh                                     
rom:3f42        e1              ??          E1h                                     
rom:3f43        0f              ??          0Fh                                     
rom:3f44        e0              ??          E0h                                     
rom:3f45        be              ??          BEh                                     
rom:3f46        36              ??          36h    6                                
rom:3f47        09              ??          09h                                     
rom:3f48        78              ??          78h    x                                
rom:3f49        01              ??          01h                                     
rom:3f4a        10              ??          10h                                     
rom:3f4b        0e              ??          0Eh                                     
rom:3f4c        b0              ??          B0h                                     
rom:3f4d        81              ??          81h                                     
rom:3f4e        60              ??          60h    `                                
rom:3f4f        07              ??          07h                                     
rom:3f50        f0              ??          F0h                                     
rom:3f51        bd              ??          BDh                                     
rom:3f52        48              ??          48h    H                                
rom:3f53        07              ??          07h                                     
rom:3f54        b2              ??          B2h                                     
rom:3f55        0f              ??          0Fh                                     
rom:3f56        70              ??          70h    p                                
rom:3f57        04              ??          04h                                     
rom:3f58        68              ??          68h    h                                
rom:3f59        00              ??          00h                                     
rom:3f5a        a0              ??          A0h                                     
rom:3f5b        0e              ??          0Eh                                     
rom:3f5c        c0              ??          C0h                                     
rom:3f5d        00              ??          00h                                     
rom:3f5e        00              ??          00h                                     
rom:3f5f        49              ??          49h    I                                
rom:3f60        70              ??          70h    p                                
rom:3f61        ef              ??          EFh                                     
rom:3f62        70              ??          70h    p                                
rom:3f63        0e              ??          0Eh                                     
rom:3f64        f0              ??          F0h                                     
rom:3f65        e7              ??          E7h                                     
rom:3f66        f4              ??          F4h                                     
rom:3f67        0a              ??          0Ah                                     
rom:3f68        b0              ??          B0h                                     
rom:3f69        00              ??          00h                                     
rom:3f6a        10              ??          10h                                     
rom:3f6b        0f              ??          0Fh                                     
rom:3f6c        f1              ??          F1h                                     
rom:3f6d        00              ??          00h                                     
rom:3f6e        70              ??          70h    p                                
rom:3f6f        0b              ??          0Bh                                     
rom:3f70        58              ??          58h    X                                
rom:3f71        2d              ??          2Dh    -                                
rom:3f72        74              ??          74h    t                                
rom:3f73        0f              ??          0Fh                                     
rom:3f74        e1              ??          E1h                                     
rom:3f75        ef              ??          EFh                                     
rom:3f76        74              ??          74h    t                                
rom:3f77        00              ??          00h                                     
rom:3f78        e0              ??          E0h                                     
rom:3f79        00              ??          00h                                     
rom:3f7a        10              ??          10h                                     
rom:3f7b        0b              ??          0Bh                                     
rom:3f7c        60              ??          60h    `                                
rom:3f7d        03              ??          03h                                     
rom:3f7e        00              ??          00h                                     
rom:3f7f        07              ??          07h                                     
rom:3f80        e0              ??          E0h                                     
rom:3f81        27              ??          27h    '                                
rom:3f82        b2              ??          B2h                                     
rom:3f83        0f              ??          0Fh                                     
rom:3f84        e0              ??          E0h                                     
rom:3f85        0f              ??          0Fh                                     
rom:3f86        f6              ??          F6h                                     
rom:3f87        0b              ??          0Bh                                     
rom:3f88        f0              ??          F0h                                     
rom:3f89        01              ??          01h                                     
rom:3f8a        d0              ??          D0h                                     
rom:3f8b        0a              ??          0Ah                                     
rom:3f8c        e2              ??          E2h                                     
rom:3f8d        02              ??          02h                                     
rom:3f8e        60              ??          60h    `                                
rom:3f8f        49              ??          49h    I                                
rom:3f90        e2              ??          E2h                                     
rom:3f91        fd              ??          FDh                                     
rom:3f92        fd              ??          FDh                                     
rom:3f93        0f              ??          0Fh                                     
rom:3f94        e0              ??          E0h                                     
rom:3f95        ad              ??          ADh                                     
rom:3f96        d0              ??          D0h                                     
rom:3f97        09              ??          09h                                     
rom:3f98        f1              ??          F1h                                     
rom:3f99        01              ??          01h                                     
rom:3f9a        50              ??          50h    P                                
rom:3f9b        0f              ??          0Fh                                     
rom:3f9c        d2              ??          D2h                                     
rom:3f9d        0e              ??          0Eh                                     
rom:3f9e        10              ??          10h                                     
rom:3f9f        04              ??          04h                                     
rom:3fa0        f0              ??          F0h                                     
rom:3fa1        af              ??          AFh                                     
rom:3fa2        f0              ??          F0h                                     
rom:3fa3        0d              ??          0Dh                                     
rom:3fa4        e8              ??          E8h                                     
rom:3fa5        2f              ??          2Fh    /                                
rom:3fa6        fa              ??          FAh                                     
rom:3fa7        0f              ??          0Fh                                     
rom:3fa8        f0              ??          F0h                                     
rom:3fa9        03              ??          03h                                     
rom:3faa        30              ??          30h    0                                
rom:3fab        0f              ??          0Fh                                     
rom:3fac        f0              ??          F0h                                     
rom:3fad        0c              ??          0Ch                                     
rom:3fae        10              ??          10h                                     
rom:3faf        01              ??          01h                                     
rom:3fb0        f9              ??          F9h                                     
rom:3fb1        ef              ??          EFh                                     
rom:3fb2        d5              ??          D5h                                     
rom:3fb3        0f              ??          0Fh                                     
rom:3fb4        f0              ??          F0h                                     
rom:3fb5        ad              ??          ADh                                     
rom:3fb6        d0              ??          D0h                                     
rom:3fb7        05              ??          05h                                     
rom:3fb8        e0              ??          E0h                                     
rom:3fb9        28              ??          28h    (                                
rom:3fba        60              ??          60h    `                                
rom:3fbb        0f              ??          0Fh                                     
rom:3fbc        f2              ??          F2h                                     
rom:3fbd        01              ??          01h                                     
rom:3fbe        30              ??          30h    0                                
rom:3fbf        05              ??          05h                                     
rom:3fc0        d1              ??          D1h                                     
rom:3fc1        28              ??          28h    (                                
rom:3fc2        f9              ??          F9h                                     
rom:3fc3        0f              ??          0Fh                                     
rom:3fc4        c2              ??          C2h                                     
rom:3fc5        ad              ??          ADh                                     
rom:3fc6        f6              ??          F6h                                     
rom:3fc7        05              ??          05h                                     
rom:3fc8        f1              ??          F1h                                     
rom:3fc9        02              ??          02h                                     
rom:3fca        00              ??          00h                                     
rom:3fcb        0c              ??          0Ch                                     
rom:3fcc        f0              ??          F0h                                     
rom:3fcd        0c              ??          0Ch                                     
rom:3fce        00              ??          00h                                     
rom:3fcf        87              ??          87h                                     
rom:3fd0        b0              ??          B0h                                     
rom:3fd1        25              ??          25h    %                                
rom:3fd2        f4              ??          F4h                                     
rom:3fd3        0b              ??          0Bh                                     
rom:3fd4        c0              ??          C0h                                     
rom:3fd5        cf              ??          CFh                                     
rom:3fd6        74              ??          74h    t                                
rom:3fd7        02              ??          02h                                     
rom:3fd8        e0              ??          E0h                                     
rom:3fd9        01              ??          01h                                     
rom:3fda        30              ??          30h    0                                
rom:3fdb        0f              ??          0Fh                                     
rom:3fdc        f0              ??          F0h                                     
rom:3fdd        0b              ??          0Bh                                     
rom:3fde        c0              ??          C0h                                     
rom:3fdf        09              ??          09h                                     
rom:3fe0        f2              ??          F2h                                     
rom:3fe1        25              ??          25h    %                                
rom:3fe2        f9              ??          F9h                                     
rom:3fe3        07              ??          07h                                     
rom:3fe4        d0              ??          D0h                                     
rom:3fe5        ee              ??          EEh                                     
rom:3fe6        78              ??          78h    x                                
rom:3fe7        01              ??          01h                                     
rom:3fe8        d0              ??          D0h                                     
rom:3fe9        01              ??          01h                                     
rom:3fea        00              ??          00h                                     
rom:3feb        4f              ??          4Fh    O                                
rom:3fec        f2              ??          F2h                                     
rom:3fed        0e              ??          0Eh                                     
rom:3fee        30              ??          30h    0                                
rom:3fef        4f              ??          4Fh    O                                
rom:3ff0        f0              ??          F0h                                     
rom:3ff1        3b              ??          3Bh    ;                                
rom:3ff2        70              ??          70h    p                                
rom:3ff3        0f              ??          0Fh                                     
rom:3ff4        f0              ??          F0h                                     
rom:3ff5        ae              ??          AEh                                     
rom:3ff6        54              ??          54h    T                                
rom:3ff7        4c0030          JMP         RESET_VECTOR                            
rom:3ffa        4c0030          JMP         RESET_VECTOR                            
rom:3ffd        4c2431          JMP         IRQ_VECTOR                              ;undefined IRQ_VECTOR()
